2025-04-21 21:03:08,957 INFO Watching for file changes with StatReloader
2025-04-23 10:21:11,757 INFO Watching for file changes with StatReloader
2025-04-23 10:21:21,770 INFO Request: POST /api/token/ | User: 
2025-04-23 10:21:35,890 INFO Request: GET /profile/ | User: root
2025-04-23 10:22:44,405 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-23 10:22:46,151 INFO Watching for file changes with StatReloader
2025-04-23 10:23:39,079 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-23 10:23:40,695 INFO Watching for file changes with StatReloader
2025-04-23 10:23:46,501 INFO Request: GET /profile/ | User: root
2025-04-23 10:47:13,569 INFO Watching for file changes with StatReloader
2025-04-23 10:47:22,701 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:47:24,847 INFO Watching for file changes with StatReloader
2025-04-23 10:47:28,462 INFO Request: POST /api/token/ | User: 
2025-04-23 10:47:42,069 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 57, in <lambda>
    path('metrics/', lambda request: HttpResponse(
                                     ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:47:42,089 INFO Request: GET /metrics/ | User: 
2025-04-23 10:47:51,680 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:47:53,889 INFO Watching for file changes with StatReloader
2025-04-23 10:47:56,834 ERROR Internal Server Error: /metrics
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 57, in <lambda>
    path('metrics', lambda request: HttpResponse(
                                    ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:47:56,838 INFO Request: GET /metrics | User: 
2025-04-23 10:48:24,505 INFO Watching for file changes with StatReloader
2025-04-23 10:48:27,820 INFO Request: GET / | User: root
2025-04-23 10:48:27,820 WARNING Not Found: /
2025-04-23 10:48:28,183 INFO Request: GET /favicon.ico | User: root
2025-04-23 10:48:28,183 WARNING Not Found: /favicon.ico
2025-04-23 10:48:37,082 INFO Request: GET /metrics/ | User: root
2025-04-23 10:48:37,082 WARNING Not Found: /metrics/
2025-04-23 10:48:39,880 ERROR Internal Server Error: /metrics
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 57, in <lambda>
    path('metrics', lambda request: HttpResponse(
                                    ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:48:39,892 INFO Request: GET /metrics | User: root
2025-04-23 10:48:59,710 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:49:01,667 INFO Watching for file changes with StatReloader
2025-04-23 10:49:04,948 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 57, in <lambda>
    path('metrics/', lambda request: HttpResponse(
                                     ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:49:04,954 INFO Request: GET /metrics/ | User: root
2025-04-23 10:49:21,311 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:49:22,698 INFO Watching for file changes with StatReloader
2025-04-23 10:50:22,151 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:50:24,012 INFO Watching for file changes with StatReloader
2025-04-23 10:50:29,328 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:50:30,818 INFO Watching for file changes with StatReloader
2025-04-23 10:50:32,158 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 60, in <lambda>
    path('metrics/', lambda request: HttpResponse(
                                     ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:50:32,163 INFO Request: GET /metrics/ | User: root
2025-04-23 10:50:34,210 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 60, in <lambda>
    path('metrics/', lambda request: HttpResponse(
                                     ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:50:34,215 INFO Request: GET /metrics/ | User: root
2025-04-23 10:51:58,120 INFO Watching for file changes with StatReloader
2025-04-23 10:52:07,471 INFO Request: GET / | User: root
2025-04-23 10:52:07,472 WARNING Not Found: /
2025-04-23 10:52:13,452 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 30, in metrics_view
    return HttpResponse(metrics, content_type=CONTENT_TYPE_LATEST)
           ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 32, in metrics_view
    return HttpResponse(str(e), status=500)
           ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:52:13,472 INFO Request: GET /metrics/ | User: root
2025-04-23 10:52:52,107 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:52:53,772 INFO Watching for file changes with StatReloader
2025-04-23 10:52:58,040 INFO Request: GET /metrics/ | User: root
2025-04-23 10:53:42,569 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:53:44,702 INFO Watching for file changes with StatReloader
2025-04-23 10:53:46,933 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 59, in <lambda>
    prometheus_client.generate_latest(),
    ^^^^^^^^^^^^^^^^^
NameError: name 'prometheus_client' is not defined
2025-04-23 10:53:46,943 INFO Request: GET /metrics/ | User: root
2025-04-23 10:54:10,908 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:54:12,638 INFO Watching for file changes with StatReloader
2025-04-23 10:54:13,898 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 61, in <lambda>
    content_type=CONTENT_TYPE_LATEST
                 ^^^^^^^^^^^^^^^^^^^
NameError: name 'CONTENT_TYPE_LATEST' is not defined
2025-04-23 10:54:13,907 INFO Request: GET /metrics/ | User: root
2025-04-23 10:54:36,802 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:54:38,564 INFO Watching for file changes with StatReloader
2025-04-23 10:54:39,877 INFO Request: GET /metrics/ | User: root
2025-04-23 10:54:51,574 INFO Request: GET /metrics | User: 
2025-04-23 10:54:51,589 INFO Request: GET /metrics/ | User: 
2025-04-23 10:54:58,331 INFO Request: GET /profile/ | User: root
2025-04-23 10:55:04,422 INFO Request: GET /metrics/ | User: root
2025-04-23 15:20:51,065 INFO Watching for file changes with StatReloader
2025-04-23 15:20:58,314 INFO Request: GET / | User: root
2025-04-23 15:20:58,314 WARNING Not Found: /
2025-04-23 15:21:04,805 INFO Request: GET /metrics/ | User: root
2025-04-24 12:03:21,814 INFO Watching for file changes with StatReloader
2025-04-24 12:03:37,837 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-24 12:03:39,210 INFO Watching for file changes with StatReloader
2025-04-24 12:03:45,375 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-24 12:03:47,162 INFO Watching for file changes with StatReloader
2025-04-24 12:03:49,062 INFO Request: GET / | User: root
2025-04-24 12:03:49,062 WARNING Not Found: /
2025-04-24 12:03:53,035 INFO Request: GET /metrics/ | User: root
2025-04-24 12:04:02,144 INFO Request: GET /admin/ | User: root
2025-04-24 12:04:06,056 INFO Request: GET /metrics/ | User: root
2025-04-24 12:28:33,832 INFO Watching for file changes with StatReloader
2025-04-24 12:28:35,285 INFO Request: GET /profile/ | User: root
2025-04-24 16:14:21,694 INFO Watching for file changes with StatReloader
2025-04-24 16:14:26,118 INFO Request: POST /api/token/ | User: 
2025-04-24 16:14:42,497 INFO Request: GET /notifications/ | User: root
2025-04-24 16:14:44,787 INFO Request: GET /notifications// | User: 
2025-04-24 16:14:44,787 WARNING Not Found: /notifications//
2025-04-24 16:14:46,298 INFO Request: GET /notifications/1/ | User: root
2025-04-24 16:14:46,299 WARNING Not Found: /notifications/1/
2025-04-24 16:14:47,788 INFO Request: GET /notifications/ | User: root
2025-04-24 16:18:39,125 INFO D:\python\marketplace_api\usercontrol_api\admin.py changed, reloading.
2025-04-24 16:18:40,233 INFO Watching for file changes with StatReloader
2025-04-24 16:20:09,588 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 16:20:10,529 INFO Watching for file changes with StatReloader
2025-04-24 16:21:30,349 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:21:31,273 INFO Watching for file changes with StatReloader
2025-04-24 16:24:24,613 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:24:25,978 INFO Watching for file changes with StatReloader
2025-04-24 16:26:50,439 INFO Watching for file changes with StatReloader
2025-04-24 16:26:54,281 INFO Request: POST /notifications/ | User: root
2025-04-24 16:27:11,206 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:27:12,073 INFO Watching for file changes with StatReloader
2025-04-24 16:27:15,365 INFO Request: POST /notifications/ | User: root
2025-04-24 16:27:53,814 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:27:54,611 INFO Watching for file changes with StatReloader
2025-04-24 16:28:11,107 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:28:12,079 INFO Watching for file changes with StatReloader
2025-04-24 16:28:16,101 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:28:16,958 INFO Watching for file changes with StatReloader
2025-04-24 16:28:18,395 INFO Request: POST /notifications/ | User: root
2025-04-24 16:28:33,455 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:28:34,330 INFO Watching for file changes with StatReloader
2025-04-24 16:28:36,005 INFO Request: POST /notifications/ | User: root
2025-04-24 16:29:56,561 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:29:57,523 INFO Watching for file changes with StatReloader
2025-04-24 16:29:58,826 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:00,146 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:01,078 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:24,514 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:30:25,444 INFO Watching for file changes with StatReloader
2025-04-24 16:30:27,105 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:41,928 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:30:42,796 INFO Watching for file changes with StatReloader
2025-04-24 16:30:44,544 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 113, in perform_create
    notification = _create_notification( title='purchase', message='Ура ура')
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: _create_notification() missing 1 required positional argument: 'user'
2025-04-24 16:30:44,547 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:53,394 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:30:54,330 INFO Watching for file changes with StatReloader
2025-04-24 16:34:48,831 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:34:49,702 INFO Watching for file changes with StatReloader
2025-04-24 16:35:13,978 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:35:15,029 INFO Watching for file changes with StatReloader
2025-04-24 16:36:12,564 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:36:13,453 INFO Watching for file changes with StatReloader
2025-04-24 16:36:14,408 INFO Request: POST /notifications/ | User: root
2025-04-24 16:36:37,225 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:36:38,136 INFO Watching for file changes with StatReloader
2025-04-24 16:36:39,725 INFO Request: POST /notifications/ | User: root
2025-04-24 16:36:49,503 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:36:50,294 INFO Watching for file changes with StatReloader
2025-04-24 16:36:52,093 INFO Request: POST /notifications/ | User: root
2025-04-24 16:36:56,497 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:36:57,361 INFO Watching for file changes with StatReloader
2025-04-24 16:36:58,898 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.StringDataRightTruncation: ОШИБКА:  значение не умещается в тип character varying(8)


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 114, in perform_create
    serializer.save(user=user, title='purchaekjh')
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\serializers.py", line 51, in create
    return Notification.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.DataError: ОШИБКА:  значение не умещается в тип character varying(8)

2025-04-24 16:36:58,906 INFO Request: POST /notifications/ | User: root
2025-04-24 16:37:21,180 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:37:22,156 INFO Watching for file changes with StatReloader
2025-04-24 16:37:23,872 INFO Request: GET /notifications/ | User: root
2025-04-24 16:37:31,078 INFO Request: GET /notifications/8/ | User: root
2025-04-24 16:37:36,413 INFO Request: GET /notifications/ | User: root
2025-04-24 16:37:54,527 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:37:55,530 INFO Watching for file changes with StatReloader
2025-04-24 16:37:57,000 INFO Request: GET /notifications/ | User: root
2025-04-24 16:37:58,487 INFO Request: GET /notifications/ | User: root
2025-04-24 16:38:02,707 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:38:03,535 INFO Watching for file changes with StatReloader
2025-04-24 16:38:04,960 INFO Request: GET /notifications/ | User: root
2025-04-24 16:38:06,263 INFO Request: GET /notifications/ | User: root
2025-04-24 16:38:13,724 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:38:14,648 INFO Watching for file changes with StatReloader
2025-04-24 16:38:15,419 INFO Request: GET /notifications/ | User: root
2025-04-24 16:38:16,535 INFO Request: GET /notifications/ | User: root
2025-04-24 16:42:53,591 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:42:54,574 INFO Watching for file changes with StatReloader
2025-04-24 16:42:56,754 INFO Request: POST /notifications/ | User: root
2025-04-24 16:43:26,951 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:43:27,948 INFO Watching for file changes with StatReloader
2025-04-24 16:45:49,408 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-24 16:45:50,429 INFO Watching for file changes with StatReloader
2025-04-24 16:50:54,350 INFO Watching for file changes with StatReloader
2025-04-24 16:50:56,908 INFO Request: GET /admin/ | User: root
2025-04-24 16:51:02,851 INFO Request: GET /admin/usercontrol_api/user/add/ | User: root
2025-04-24 16:51:02,974 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:51:46,456 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-24 16:51:46,639 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:51:49,575 INFO Request: POST /admin/usercontrol_api/user/ | User: root
2025-04-24 16:51:52,297 INFO Request: POST /admin/usercontrol_api/user/ | User: root
2025-04-24 16:51:52,353 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-24 16:51:52,511 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:51:59,971 INFO Request: POST /register/ | User: 
2025-04-24 16:52:13,538 INFO Request: POST /api/token/ | User: 
2025-04-24 16:52:37,289 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:52:38,295 INFO Watching for file changes with StatReloader
2025-04-24 16:52:39,706 INFO Request: GET /notifications/ | User: testseller
2025-04-24 16:52:46,323 INFO Request: GET /profile/ | User: testseller
2025-04-24 16:53:30,583 INFO Request: PUT /seller/register/ | User: testseller
2025-04-24 16:54:07,268 INFO Request: POST /create-payment/ | User: testseller
2025-04-24 16:54:11,463 INFO Request: PUT /seller/register/ | User: testseller
2025-04-24 16:54:41,701 INFO Request: GET /notifications/ | User: testseller
2025-04-24 16:55:33,832 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-24 16:55:35,038 INFO Watching for file changes with StatReloader
2025-04-24 16:55:37,472 INFO Request: GET /notifications/ | User: testseller
2025-04-24 16:55:39,776 INFO Request: GET /notifications/13/ | User: testseller
2025-04-24 16:56:00,173 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:56:01,051 INFO Watching for file changes with StatReloader
2025-04-24 16:56:02,287 INFO Request: GET /notifications/13/ | User: testseller
2025-04-24 16:57:19,149 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:57:20,190 INFO Watching for file changes with StatReloader
2025-04-24 16:58:02,068 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:58:02,894 INFO Watching for file changes with StatReloader
2025-04-24 16:58:04,810 INFO Request: DELETE /notifications/13/ | User: testseller
2025-04-24 16:58:34,630 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:58:34,805 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:58:39,873 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:58:39,931 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:58:42,462 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 16:58:42,466 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:58:50,794 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:58:55,915 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 16:58:55,921 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:59:16,090 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 16:59:16,957 INFO Watching for file changes with StatReloader
2025-04-24 17:00:10,680 INFO Watching for file changes with StatReloader
2025-04-24 17:00:12,791 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:00:14,519 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:00:14,522 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:01:18,159 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:01:19,888 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:01:19,892 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:01:21,001 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:01:52,912 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 17:01:53,863 INFO Watching for file changes with StatReloader
2025-04-24 17:03:41,736 INFO Watching for file changes with StatReloader
2025-04-24 17:03:45,071 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:45,236 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 17:03:48,061 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:03:48,066 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:50,065 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:52,365 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:03:52,369 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:53,140 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:56,129 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:03:56,131 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:59,034 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:05:41,813 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 17:05:42,818 INFO Watching for file changes with StatReloader
2025-04-24 17:05:49,428 INFO Watching for file changes with StatReloader
2025-04-24 17:05:53,747 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:05:55,396 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:05:55,573 INFO Request: GET /admin/usercontrol_api/notification/ | User: root
2025-04-24 17:05:55,637 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 17:06:08,128 INFO Request: GET /notifications/21/ | User: testseller
2025-04-24 17:06:08,128 WARNING Not Found: /notifications/21/
2025-04-24 17:06:16,038 INFO Request: GET /notifications/21/ | User: testseller
2025-04-24 17:06:16,038 WARNING Not Found: /notifications/21/
2025-04-24 17:06:20,891 INFO Request: POST /api/token/ | User: 
2025-04-24 17:06:26,446 INFO Request: GET /notifications/21/ | User: root
2025-04-24 17:06:33,316 INFO Request: DELETE /notifications/21/ | User: root
2025-04-24 17:06:35,286 INFO Request: GET /notifications/21/ | User: root
2025-04-24 17:06:35,286 WARNING Not Found: /notifications/21/
2025-04-24 17:06:37,107 INFO Request: GET /notifications/ | User: root
2025-04-24 21:07:26,813 INFO Watching for file changes with StatReloader
2025-04-24 21:07:34,770 INFO Request: POST /api/token/ | User: 
2025-04-24 21:07:43,327 INFO Request: GET /notifications/ | User: root
2025-04-24 21:07:45,012 INFO Request: GET /notifications/ | User: root
2025-04-24 21:08:01,228 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 204, in _get_response
    self.check_response(response, callback)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 332, in check_response
    raise ValueError(
    ...<2 lines>...
    )
ValueError: The view usercontrol_api.views.admin_notification didn't return an HttpResponse object. It returned None instead.
2025-04-24 21:08:01,232 INFO Request: GET /admin_notification/ | User: 
2025-04-24 21:08:11,116 WARNING Forbidden (CSRF token missing.): /admin_notification/
2025-04-24 21:08:11,117 INFO Request: POST /admin_notification/ | User: 
2025-04-24 21:08:32,605 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:08:34,299 INFO Watching for file changes with StatReloader
2025-04-24 21:08:35,728 WARNING Forbidden (CSRF token missing.): /admin_notification/
2025-04-24 21:08:35,728 INFO Request: POST /admin_notification/ | User: 
2025-04-24 21:10:20,930 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:10:22,704 INFO Watching for file changes with StatReloader
2025-04-24 21:10:33,994 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-04-24 21:10:35,349 INFO Watching for file changes with StatReloader
2025-04-24 21:11:13,592 INFO Watching for file changes with StatReloader
2025-04-24 21:11:16,585 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:11:16,588 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:11:30,171 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:11:31,651 INFO Watching for file changes with StatReloader
2025-04-24 21:11:33,520 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:11:33,524 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:12:15,212 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:12:16,844 INFO Watching for file changes with StatReloader
2025-04-24 21:12:25,080 INFO Request: POST /api/token/ | User: 
2025-04-24 21:12:37,027 INFO Request: POST /coupons/ | User: root
2025-04-24 21:13:03,081 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:13:03,084 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:13:05,352 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:13:05,359 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:14:51,219 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:14:52,843 INFO Watching for file changes with StatReloader
2025-04-24 21:15:05,832 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:15:05,844 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:15:22,122 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:15:23,512 INFO Watching for file changes with StatReloader
2025-04-24 21:15:36,236 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-04-24 21:15:37,774 INFO Watching for file changes with StatReloader
2025-04-24 21:15:40,263 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 127, in post
    notification = Notification.objects.create(user__id__in=users_ids, title=title, message=message)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Notification() got unexpected keyword arguments: 'user__id__in'
2025-04-24 21:15:40,276 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:16:39,605 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:16:41,393 INFO Watching for file changes with StatReloader
2025-04-24 21:17:08,089 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:17:10,057 INFO Watching for file changes with StatReloader
2025-04-24 21:17:16,185 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:17:17,713 INFO Watching for file changes with StatReloader
2025-04-24 21:17:30,514 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:17:32,404 INFO Watching for file changes with StatReloader
2025-04-24 21:17:51,504 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:17:53,090 INFO Watching for file changes with StatReloader
2025-04-24 21:17:59,844 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:18:01,386 INFO Watching for file changes with StatReloader
2025-04-24 21:18:03,788 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (22, null, Привет, f, 2025-04-24, 4).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 129, in post
    notification = Notification.objects.create(
        user_id=user_id,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (22, null, Привет, f, 2025-04-24, 4).

2025-04-24 21:18:03,799 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:18:45,022 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:18:46,738 INFO Watching for file changes with StatReloader
2025-04-24 21:18:48,502 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 128, in post
    for user in users_ids:
                ^^^^^^^^^
NameError: name 'users_ids' is not defined
2025-04-24 21:18:48,508 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:19:15,745 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 128, in post
    for user in users_ids:
                ^^^^^^^^^
NameError: name 'users_ids' is not defined
2025-04-24 21:19:15,751 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:19:24,732 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:19:26,648 INFO Watching for file changes with StatReloader
2025-04-24 21:19:29,697 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 129, in post
    notification = Notification.objects.create(
        user_id=user,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1835, in execute_sql
    for sql, params in self.as_sql():
                       ~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1760, in as_sql
    self.prepare_value(field, self.pre_save_val(field, obj))
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1699, in prepare_value
    return field.get_db_prep_save(value, connection=self.connection)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\related.py", line 1142, in get_db_prep_save
    return self.target_field.get_db_prep_save(value, connection=connection)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\__init__.py", line 1008, in get_db_prep_save
    return self.get_db_prep_value(value, connection=connection, prepared=False)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\__init__.py", line 2815, in get_db_prep_value
    value = self.get_prep_value(value)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <User: username: testseller | pk 4>.
2025-04-24 21:19:29,720 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:19:55,170 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:19:56,786 INFO Watching for file changes with StatReloader
2025-04-24 21:19:59,520 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:20:53,552 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 21:21:16,796 INFO Watching for file changes with StatReloader
2025-04-24 21:21:22,979 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (25, null, Привет, f, 2025-04-24, 4).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 129, in post
    notification = Notification.objects.create(
        user=user,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (25, null, Привет, f, 2025-04-24, 4).

2025-04-24 21:21:22,987 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:21:52,589 INFO Watching for file changes with StatReloader
2025-04-24 21:21:56,765 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:22:22,494 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:22:24,491 INFO Watching for file changes with StatReloader
2025-04-24 21:22:26,024 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:22:42,584 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 21:22:55,333 INFO Watching for file changes with StatReloader
2025-04-24 21:22:58,272 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (30, null, Привет, f, 2025-04-24, 4).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 129, in post
    notification = Notification.objects.create(
        user=user,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (30, null, Привет, f, 2025-04-24, 4).

2025-04-24 21:22:58,285 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:24:25,011 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:24:27,196 INFO Watching for file changes with StatReloader
2025-04-24 21:24:29,440 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:27:01,809 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:27:03,793 INFO Watching for file changes with StatReloader
2025-04-24 21:28:37,255 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:28:39,476 INFO Watching for file changes with StatReloader
2025-04-24 21:29:21,410 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:29:23,176 INFO Watching for file changes with StatReloader
2025-04-24 21:30:38,619 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:30:40,264 INFO Watching for file changes with StatReloader
2025-04-24 21:33:53,497 INFO Watching for file changes with StatReloader
2025-04-24 21:34:00,329 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:34:01,894 INFO Watching for file changes with StatReloader
2025-04-24 21:35:05,042 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-04-24 21:35:06,599 INFO Watching for file changes with StatReloader
2025-04-24 21:36:02,766 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-04-24 21:36:04,375 INFO Watching for file changes with StatReloader
2025-04-24 21:36:26,706 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:36:28,461 INFO Watching for file changes with StatReloader
2025-04-24 21:37:20,363 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:37:21,876 INFO Watching for file changes with StatReloader
2025-04-24 21:41:28,883 INFO Watching for file changes with StatReloader
2025-04-24 21:42:46,650 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:42:47,883 INFO Watching for file changes with StatReloader
2025-04-24 21:46:14,587 INFO Watching for file changes with StatReloader
2025-04-24 21:47:02,990 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:47:04,551 INFO Watching for file changes with StatReloader
2025-04-24 21:48:39,451 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-04-24 21:48:40,379 INFO Watching for file changes with StatReloader
2025-04-24 21:55:35,879 INFO Watching for file changes with StatReloader
2025-04-24 21:57:24,682 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-24 21:57:25,663 INFO Watching for file changes with StatReloader
2025-04-24 21:57:34,630 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-24 21:57:35,478 INFO Watching for file changes with StatReloader
2025-04-24 21:57:54,161 INFO Request: POST /api/toke/ | User: 
2025-04-24 21:57:54,161 WARNING Not Found: /api/toke/
2025-04-24 21:57:59,538 INFO Request: POST /api/token/ | User: 
2025-04-24 21:58:11,800 INFO Request: GET /seller/ | User: 
2025-04-24 21:58:11,800 WARNING Not Found: /seller/
2025-04-24 21:58:17,941 INFO Request: GET /store/ | User: root
2025-04-24 21:58:22,510 INFO Request: GET /store/1/ | User: root
2025-04-24 21:58:23,588 INFO Request: GET /store/ | User: root
2025-04-24 21:59:03,142 ERROR Internal Server Error: /store/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\seller_store_api\views.py", line 96, in perform_create
    _create_notification(user=user, title='seller', message=f'Регистрация магазина {serializer.name}')
                                                                                    ^^^^^^^^^^^^^^^
AttributeError: 'StoreSerializer' object has no attribute 'name'
2025-04-24 21:59:03,145 INFO Request: POST /store/ | User: root
2025-04-24 21:59:19,908 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-24 21:59:20,890 INFO Watching for file changes with StatReloader
2025-04-24 21:59:22,909 INFO Request: POST /store/ | User: root
2025-04-24 21:59:22,909 WARNING Bad Request: /store/
2025-04-24 21:59:40,487 INFO Request: POST /store/ | User: root
2025-04-25 18:06:31,693 INFO Watching for file changes with StatReloader
2025-04-25 18:06:35,702 INFO Request: GET / | User: 
2025-04-25 18:06:35,704 WARNING Not Found: /
2025-04-25 18:06:42,363 INFO Request: GET /admin/ | User: 
2025-04-25 18:06:42,648 INFO Request: GET /admin/login/ | User: 
2025-04-25 18:06:49,088 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-04-25 18:06:51,209 INFO Watching for file changes with StatReloader
2025-04-25 18:07:06,200 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-04-25 18:07:08,287 INFO Watching for file changes with StatReloader
2025-04-25 19:15:22,599 INFO Watching for file changes with StatReloader
2025-04-25 19:17:00,861 INFO Watching for file changes with StatReloader
2025-04-25 19:22:33,129 INFO Watching for file changes with StatReloader
2025-04-25 19:54:45,514 INFO Watching for file changes with StatReloader
2025-04-25 20:02:45,862 INFO Watching for file changes with StatReloader
2025-04-25 20:02:55,650 INFO Watching for file changes with StatReloader
2025-04-25 20:03:02,237 INFO Request: GET / | User: 
2025-04-25 20:03:02,238 WARNING Not Found: /
2025-04-25 20:03:06,449 INFO Request: POST /api/token/ | User: 
2025-04-25 20:03:20,313 INFO Request: GET /products/ | User: root
2025-04-25 20:03:28,352 INFO Request: GET /products/5/ | User: root
2025-04-25 20:03:36,700 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:04:49,417 INFO Watching for file changes with StatReloader
2025-04-25 20:05:14,535 ERROR Internal Server Error: /products/6/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 138, in post
    wishlist_item.save()
    ~~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
TypeError: wishlist_notification() missing 1 required positional argument: 'created'
2025-04-25 20:05:14,539 INFO Request: POST /products/6/add/ | User: root
2025-04-25 20:05:26,193 INFO Request: GET /products/6/ | User: root
2025-04-25 20:05:30,993 INFO Request: GET /products/6/add/ | User: root
2025-04-25 20:05:30,994 WARNING Method Not Allowed: /products/6/add/
2025-04-25 20:05:34,438 ERROR Internal Server Error: /products/6/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 138, in post
    wishlist_item.save()
    ~~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
TypeError: wishlist_notification() missing 1 required positional argument: 'created'
2025-04-25 20:05:34,440 INFO Request: POST /products/6/add/ | User: root
2025-04-25 20:05:44,238 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:05:45,116 INFO Watching for file changes with StatReloader
2025-04-25 20:05:46,211 INFO Request: POST /products/6/add/ | User: root
2025-04-25 20:12:24,995 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:12:25,966 INFO Watching for file changes with StatReloader
2025-04-25 20:12:34,369 INFO Request: POST /products/5/ | User: root
2025-04-25 20:12:34,369 WARNING Method Not Allowed: /products/5/
2025-04-25 20:12:38,122 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:13:01,462 INFO Request: POST /api/token/ | User: 
2025-04-25 20:13:18,549 INFO Request: GET /wishlist/ | User: root
2025-04-25 20:14:20,057 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:14:21,048 INFO Watching for file changes with StatReloader
2025-04-25 20:15:07,041 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:15:27,679 INFO Request: GET /wishlist/ | User: root
2025-04-25 20:21:03,656 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-25 20:21:04,841 INFO Watching for file changes with StatReloader
2025-04-25 20:21:12,319 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-25 20:21:13,091 INFO Watching for file changes with StatReloader
2025-04-25 20:21:26,713 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:21:27,596 INFO Watching for file changes with StatReloader
2025-04-25 20:21:32,704 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:21:33,679 INFO Watching for file changes with StatReloader
2025-04-25 20:21:39,674 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:21:40,596 INFO Watching for file changes with StatReloader
2025-04-25 20:22:00,607 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:22:01,441 INFO Watching for file changes with StatReloader
2025-04-25 20:22:02,777 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:22:13,037 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:22:40,163 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:22:41,142 INFO Watching for file changes with StatReloader
2025-04-25 20:22:44,848 ERROR Internal Server Error: /products/5/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 138, in post
    wishlist_item.save(update_fields=['quantity'])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 38, in wishlist_notification
NameError: name 'quantity' is not defined
2025-04-25 20:22:44,852 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:22:52,259 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:22:53,117 INFO Watching for file changes with StatReloader
2025-04-25 20:22:55,187 ERROR Internal Server Error: /products/5/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 138, in post
    wishlist_item.save(update_fields=['quantity'])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 38, in wishlist_notification
    quantity = getattr(quantity, 'quantity', 1)
                       ^^^^^^^^
NameError: name 'quantity' is not defined
2025-04-25 20:22:55,192 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:23:04,787 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:23:05,616 INFO Watching for file changes with StatReloader
2025-04-25 20:23:57,013 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-25 20:23:57,977 INFO Watching for file changes with StatReloader
2025-04-25 20:24:01,834 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:24:02,608 INFO Watching for file changes with StatReloader
2025-04-25 20:24:08,481 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:24:09,514 INFO Watching for file changes with StatReloader
2025-04-25 20:24:14,693 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:24:15,576 INFO Watching for file changes with StatReloader
2025-04-25 20:24:19,835 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:24:37,552 INFO Request: POST /products/5/add/ | User: root
2025-04-25 21:34:08,214 INFO Watching for file changes with StatReloader
2025-04-25 21:34:12,974 INFO Request: POST /api/token/ | User: 
2025-04-25 21:34:26,283 INFO Request: GET /seller/ | User: 
2025-04-25 21:34:26,284 WARNING Not Found: /seller/
2025-04-25 21:34:34,572 INFO Request: GET /store/ | User: root
2025-04-25 21:34:52,207 INFO Request: GET /seller/register/ | User: root
2025-04-25 21:35:57,136 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-25 21:35:58,091 INFO Watching for file changes with StatReloader
2025-04-25 21:36:06,984 INFO Request: GET /store/ | User: root
2025-04-25 21:36:37,944 INFO Request: POST /store/ | User: root
2025-04-25 21:37:16,903 INFO Request: POST /store/ | User: root
2025-04-25 21:38:08,241 INFO Watching for file changes with StatReloader
2025-04-25 21:38:11,153 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-25 21:38:11,961 INFO Watching for file changes with StatReloader
2025-04-25 21:38:17,292 INFO Request: POST /store/ | User: root
2025-04-26 09:51:30,784 INFO Watching for file changes with StatReloader
2025-04-26 09:51:48,621 INFO Watching for file changes with StatReloader
2025-04-26 09:52:35,333 INFO Watching for file changes with StatReloader
2025-04-26 09:52:42,609 INFO Request: POST /api/token/ | User: 
2025-04-26 09:53:12,801 INFO Request: POST /products/5/add/ | User: root
2025-04-26 09:53:31,655 INFO Request: GET /wishlist/ | User: root
2025-04-26 09:54:24,138 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 09:54:26,019 INFO Watching for file changes with StatReloader
2025-04-26 09:54:29,912 INFO Request: GET /wishlist/ | User: root
2025-04-26 09:54:56,035 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 09:56:57,630 INFO D:\python\marketplace_api\payment_system_api\models.py changed, reloading.
2025-04-26 09:56:59,167 INFO Watching for file changes with StatReloader
2025-04-26 09:57:00,831 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 09:57:00,831 WARNING Bad Request: /wishlist/buy/
2025-04-26 09:57:11,443 INFO Request: GET /admin/ | User: 
2025-04-26 09:57:11,689 INFO Request: GET /admin/login/ | User: 
2025-04-26 09:57:13,535 INFO Request: POST /admin/login/ | User: root
2025-04-26 09:57:13,743 INFO Request: GET /admin/ | User: root
2025-04-26 09:57:19,669 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 09:57:19,830 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 09:57:21,558 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 09:57:21,693 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 09:57:27,188 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 09:57:27,306 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 09:57:27,476 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 09:57:30,075 ERROR Internal Server Error: /wishlist/buy/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\payment_system_api\views.py", line 156, in payment_products
    raise ValidationError(_(f"Недостаточно товара {product.name} на складе."))
                                                   ^^^^^^^^^^^^
AttributeError: 'ProductVariant' object has no attribute 'name'
2025-04-26 09:57:30,082 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 09:58:29,463 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 09:58:31,347 INFO Watching for file changes with StatReloader
2025-04-26 09:58:35,086 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 09:58:35,086 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:05:33,126 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:05:35,243 INFO Watching for file changes with StatReloader
2025-04-26 10:05:53,923 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:05:56,553 INFO Watching for file changes with StatReloader
2025-04-26 10:06:01,115 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:06:03,633 INFO Watching for file changes with StatReloader
2025-04-26 10:12:46,740 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:12:47,909 INFO Watching for file changes with StatReloader
2025-04-26 10:17:10,785 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:17:12,029 INFO Watching for file changes with StatReloader
2025-04-26 10:17:15,665 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:17:16,605 INFO Watching for file changes with StatReloader
2025-04-26 10:17:34,779 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:17:35,701 INFO Watching for file changes with StatReloader
2025-04-26 10:17:48,016 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:17:49,472 INFO Watching for file changes with StatReloader
2025-04-26 10:18:12,239 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:18:13,233 INFO Watching for file changes with StatReloader
2025-04-26 10:18:23,895 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:18:25,020 INFO Watching for file changes with StatReloader
2025-04-26 10:18:32,441 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:18:33,304 INFO Watching for file changes with StatReloader
2025-04-26 10:18:41,691 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:18:42,537 INFO Watching for file changes with StatReloader
2025-04-26 10:19:09,814 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:19:10,643 INFO Watching for file changes with StatReloader
2025-04-26 10:19:33,850 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:27:36,011 INFO Request: POST /api/token/ | User: 
2025-04-26 10:27:58,708 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:28:04,932 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:28:04,933 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:28:13,373 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:28:13,572 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:28:16,724 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:28:16,894 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 10:28:16,957 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:28:23,800 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:29:05,915 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:29:07,807 INFO Watching for file changes with StatReloader
2025-04-26 10:29:38,151 INFO Request: GET /admin/product_control_api/productvariant/ | User: root
2025-04-26 10:29:38,328 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:29:47,043 INFO Request: GET /admin/product_control_api/productvariant/5/change/ | User: root
2025-04-26 10:29:47,210 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:29:51,431 INFO Request: POST /admin/product_control_api/productvariant/5/change/ | User: root
2025-04-26 10:29:51,520 INFO Request: GET /admin/product_control_api/productvariant/ | User: root
2025-04-26 10:29:51,682 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:30:00,994 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:30:08,320 INFO Request: GET /products/5/ | User: root
2025-04-26 10:30:17,862 INFO Request: GET /products/ | User: root
2025-04-26 10:30:36,740 INFO Request: GET /wishlist/ | User: root
2025-04-26 10:31:36,640 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:31:37,616 INFO Watching for file changes with StatReloader
2025-04-26 10:31:40,226 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:34:19,686 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:34:21,516 INFO Watching for file changes with StatReloader
2025-04-26 10:34:47,526 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:34:50,543 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:34:50,543 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:36:54,372 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:36:55,647 INFO Watching for file changes with StatReloader
2025-04-26 10:36:57,123 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:36:57,123 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:37:07,164 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:37:08,097 INFO Watching for file changes with StatReloader
2025-04-26 10:37:09,850 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:37:09,850 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:37:26,173 INFO Request: GET /wishlist/ | User: root
2025-04-26 10:37:29,589 INFO Request: GET /wishlist/10/ | User: root
2025-04-26 10:37:50,044 INFO Request: PATCH /wishlist/10/ | User: root
2025-04-26 10:37:50,044 WARNING Bad Request: /wishlist/10/
2025-04-26 10:37:54,049 INFO Request: PATCH /wishlist/10/ | User: root
2025-04-26 10:38:04,159 INFO Request: PATCH /wishlist/10/ | User: root
2025-04-26 10:38:15,796 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:39:47,447 INFO Request: GET /notifications/ | User: root
2025-04-26 10:39:51,328 INFO Request: GET /notifications/41/ | User: root
2025-04-26 10:39:57,405 INFO Request: DELETE /notifications/41/ | User: root
2025-04-26 10:40:24,311 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 10:40:25,408 INFO Watching for file changes with StatReloader
2025-04-26 10:42:52,646 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-26 10:42:53,721 INFO Watching for file changes with StatReloader
2025-04-26 10:43:20,203 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-26 10:43:21,143 INFO Watching for file changes with StatReloader
2025-04-26 10:43:46,526 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:43:47,735 INFO Watching for file changes with StatReloader
2025-04-26 10:45:31,147 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:45:32,220 INFO Watching for file changes with StatReloader
2025-04-26 10:46:58,561 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:46:59,550 INFO Watching for file changes with StatReloader
2025-04-26 10:47:42,245 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:47:43,199 INFO Watching for file changes with StatReloader
2025-04-26 10:47:55,676 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:47:56,563 INFO Watching for file changes with StatReloader
2025-04-26 10:48:17,916 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:48:18,990 INFO Watching for file changes with StatReloader
2025-04-26 10:48:22,165 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:48:23,152 INFO Watching for file changes with StatReloader
2025-04-26 10:48:41,005 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:48:42,152 INFO Watching for file changes with StatReloader
2025-04-26 10:48:52,715 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:48:53,708 INFO Watching for file changes with StatReloader
2025-04-26 10:49:05,846 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 10:49:05,911 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:49:11,271 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:49:11,436 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:49:14,693 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 64, in seller_activate_notification
    user=instance.user,
         ^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'user'
2025-04-26 10:49:14,703 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:52:53,227 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:52:54,338 INFO Watching for file changes with StatReloader
2025-04-26 10:52:55,477 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:52:56,822 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (47, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 65, in seller_activate_notification
    Notification.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user=user,
        ^^^^^^^^^^
        title=Notification.TitleChoice.CELLER,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        message=f"Вы стали продавцом, вам доступны новые привилегии."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (47, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).

2025-04-26 10:52:56,829 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:54:14,633 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:55:27,344 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-26 10:55:28,405 INFO Watching for file changes with StatReloader
2025-04-26 10:55:29,861 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:55:30,972 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (49, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 65, in seller_activate_notification
    Notification.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user=user,
        ^^^^^^^^^^
        title=Notification.TitleChoice.CELLER,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        message=f"Вы стали продавцом, вам доступны новые привилегии."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (49, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).

2025-04-26 10:55:30,980 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:55:33,199 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:55:56,749 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-26 10:55:57,617 INFO Watching for file changes with StatReloader
2025-04-26 10:56:09,429 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (50, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 65, in seller_activate_notification
    Notification.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user=user,
        ^^^^^^^^^^
        title=Notification.TitleChoice.CELLER,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        message=f"Вы стали продавцом, вам доступны новые привилегии."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (50, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).

2025-04-26 10:56:09,447 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:56:31,748 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:56:32,601 INFO Watching for file changes with StatReloader
2025-04-26 10:56:33,760 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:56:34,770 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
TypeError: seller_activate_notification() missing 1 required positional argument: 'created'
2025-04-26 10:56:34,774 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:56:43,272 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:56:44,202 INFO Watching for file changes with StatReloader
2025-04-26 10:56:45,058 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:56:45,971 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 64, in seller_activate_notification
    user=instance.user,
         ^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'user'
2025-04-26 10:56:45,976 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:57:38,651 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:57:39,606 INFO Watching for file changes with StatReloader
2025-04-26 10:57:40,659 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:57:55,314 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:58:05,774 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:58:57,336 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:58:58,313 INFO Watching for file changes with StatReloader
2025-04-26 10:59:04,243 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:59:05,407 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:59:05,474 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 10:59:05,549 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 11:02:06,045 INFO D:\python\marketplace_api\payment_system_api\apps.py changed, reloading.
2025-04-26 11:02:06,987 INFO Watching for file changes with StatReloader
2025-04-26 11:10:29,000 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 11:10:30,175 INFO Watching for file changes with StatReloader
2025-04-26 11:10:40,325 INFO Request: POST /products/5/buy/ | User: root
2025-04-26 11:10:49,311 INFO D:\python\marketplace_api\payment_system_api\signals.py changed, reloading.
2025-04-26 11:10:50,496 INFO Watching for file changes with StatReloader
2025-04-26 11:12:00,364 INFO D:\python\marketplace_api\payment_system_api\signals.py changed, reloading.
2025-04-26 11:12:01,355 INFO Watching for file changes with StatReloader
2025-04-26 11:12:03,065 INFO Request: POST /products/5/buy/ | User: root
2025-04-26 11:12:30,741 INFO D:\python\marketplace_api\payment_system_api\signals.py changed, reloading.
2025-04-26 11:12:31,622 INFO Watching for file changes with StatReloader
2025-04-26 11:13:16,595 INFO Request: GET /wishlist/ | User: root
2025-04-26 11:13:40,955 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 11:38:16,372 INFO Watching for file changes with StatReloader
2025-04-26 11:38:20,717 INFO Request: POST /api/token/ | User: 
2025-04-26 11:38:32,490 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 105, in get_queryset
    return Respoonse({
           ^^^^^^^^^
NameError: name 'Respoonse' is not defined. Did you mean: 'Response'?
2025-04-26 11:38:32,493 INFO Request: GET /notifications/ | User: root
2025-04-26 11:38:38,972 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:38:39,859 INFO Watching for file changes with StatReloader
2025-04-26 11:38:41,728 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\template\response.py", line 127, in __iter__
    raise ContentNotRenderedError(
        "The response content must be rendered before it can be iterated over."
    )
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
2025-04-26 11:38:41,731 INFO Request: GET /notifications/ | User: root
2025-04-26 11:38:48,201 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\template\response.py", line 127, in __iter__
    raise ContentNotRenderedError(
        "The response content must be rendered before it can be iterated over."
    )
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
2025-04-26 11:38:48,202 INFO Request: GET /notifications/ | User: root
2025-04-26 11:39:09,210 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:39:10,094 INFO Watching for file changes with StatReloader
2025-04-26 11:39:11,740 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\template\response.py", line 127, in __iter__
    raise ContentNotRenderedError(
        "The response content must be rendered before it can be iterated over."
    )
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
2025-04-26 11:39:11,743 INFO Request: GET /notifications/ | User: root
2025-04-26 11:39:42,859 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:39:43,798 INFO Watching for file changes with StatReloader
2025-04-26 11:39:46,126 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\template\response.py", line 127, in __iter__
    raise ContentNotRenderedError(
        "The response content must be rendered before it can be iterated over."
    )
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
2025-04-26 11:39:46,129 INFO Request: GET /notifications/ | User: root
2025-04-26 11:39:53,254 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:39:54,214 INFO Watching for file changes with StatReloader
2025-04-26 11:40:44,639 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:40:45,808 INFO Watching for file changes with StatReloader
2025-04-26 11:41:21,391 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:41:22,203 INFO Watching for file changes with StatReloader
2025-04-26 11:41:49,094 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:41:49,944 INFO Watching for file changes with StatReloader
2025-04-26 11:41:50,884 INFO Request: GET /notifications/ | User: root
2025-04-26 11:41:56,720 INFO Request: GET /notifications/54/ | User: root
2025-04-26 11:41:58,741 INFO Request: GET /notifications/ | User: root
2025-04-26 11:42:16,065 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:42:17,108 INFO Watching for file changes with StatReloader
2025-04-26 11:42:18,383 INFO Request: GET /notifications/ | User: root
2025-04-26 11:42:37,929 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-26 11:42:38,877 INFO Watching for file changes with StatReloader
2025-04-26 11:42:41,189 INFO Request: GET /notifications/ | User: root
2025-04-26 11:43:04,016 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:43:04,964 INFO Watching for file changes with StatReloader
2025-04-26 11:43:06,124 INFO Request: GET /notifications/ | User: root
2025-04-26 11:43:13,012 INFO Request: GET /notifications/58/ | User: root
2025-04-26 11:43:18,676 INFO Request: GET /notifications/ | User: root
2025-04-26 11:43:28,070 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:43:29,088 INFO Watching for file changes with StatReloader
2025-04-26 11:43:30,900 INFO Request: GET /notifications/ | User: root
2025-04-26 11:43:37,420 INFO Request: GET /notifications/52/ | User: root
2025-04-26 11:43:38,830 INFO Request: GET /notifications/ | User: root
2025-04-26 11:44:17,377 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:44:18,531 INFO Watching for file changes with StatReloader
2025-04-26 11:44:22,024 INFO Request: GET /profile | User: 
2025-04-26 11:44:22,085 INFO Request: GET /profile/ | User: root
2025-04-26 11:44:23,216 INFO Request: GET /profile/ | User: root
2025-04-26 11:44:33,160 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:44:34,346 INFO Watching for file changes with StatReloader
2025-04-26 11:44:35,503 INFO Request: GET /profile/ | User: root
2025-04-26 20:26:42,407 INFO Watching for file changes with StatReloader
2025-04-27 12:06:58,182 INFO Watching for file changes with StatReloader
2025-04-27 12:07:56,907 INFO Watching for file changes with StatReloader
2025-04-27 12:08:33,028 INFO Request: POST /api/token/ | User: 
2025-04-27 12:08:45,528 INFO Request: GET /coupons/ | User: root
2025-04-27 12:08:53,710 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 39, in set_coupon
    self.code = random.randint(100000, 999999)
                ^^^^^^
NameError: name 'random' is not defined. Did you forget to import 'random'?
2025-04-27 12:08:53,717 INFO Request: POST /coupons/ | User: root
2025-04-27 12:09:15,114 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:09:15,977 INFO Watching for file changes with StatReloader
2025-04-27 12:09:20,941 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 40, in set_coupon
    self.code = random.randint(100000, 999999)
    ^^^^
NameError: name 'self' is not defined
2025-04-27 12:09:20,946 INFO Request: POST /coupons/ | User: root
2025-04-27 12:09:43,129 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:09:44,035 INFO Watching for file changes with StatReloader
2025-04-27 12:09:45,555 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 40, in set_coupon
    self.code = random.randint(100000, 999999)
    ^^^^
NameError: name 'self' is not defined
2025-04-27 12:09:45,562 INFO Request: POST /coupons/ | User: root
2025-04-27 12:10:25,616 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:10:26,607 INFO Watching for file changes with StatReloader
2025-04-27 12:10:29,958 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 44, in set_coupon
    instance.end_date = self.created_at + datetime.timedelta(weeks=4)
                        ^^^^
NameError: name 'self' is not defined
2025-04-27 12:10:29,962 INFO Request: POST /coupons/ | User: root
2025-04-27 12:10:43,478 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:10:44,340 INFO Watching for file changes with StatReloader
2025-04-27 12:10:46,308 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 44, in set_coupon
    instance.end_date = instance.created_at + datetime.timedelta(weeks=4)
                                              ^^^^^^^^
NameError: name 'datetime' is not defined. Did you forget to import 'datetime'?
2025-04-27 12:10:46,315 INFO Request: POST /coupons/ | User: root
2025-04-27 12:11:05,475 INFO Watching for file changes with StatReloader
2025-04-27 12:11:08,316 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 45, in set_coupon
    instance.end_date = instance.created_at + datetime.timedelta(weeks=4)
                        ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for +: 'NoneType' and 'datetime.timedelta'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 1008, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Coupon.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Coupon.objects.create()`. You may need to make the field read-only, or override the CouponSerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 45, in set_coupon
    instance.end_date = instance.created_at + datetime.timedelta(weeks=4)
                        ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for +: 'NoneType' and 'datetime.timedelta'

2025-04-27 12:11:08,322 INFO Request: POST /coupons/ | User: root
2025-04-27 12:11:41,991 INFO Request: GET /admin/ | User: 
2025-04-27 12:11:42,171 INFO Request: GET /admin/login/ | User: 
2025-04-27 12:11:45,004 INFO Request: POST /admin/login/ | User: root
2025-04-27 12:11:45,114 INFO Request: GET /admin/ | User: root
2025-04-27 12:11:49,014 INFO Request: GET /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:11:49,147 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:11:52,622 ERROR Internal Server Error: /admin/usercontrol_api/coupon/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 45, in set_coupon
    instance.end_date = instance.created_at + datetime.timedelta(weeks=4)
                        ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for +: 'NoneType' and 'datetime.timedelta'
2025-04-27 12:11:52,628 INFO Request: POST /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:09,914 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:12:10,993 INFO Watching for file changes with StatReloader
2025-04-27 12:12:13,619 INFO Request: GET /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:14,724 INFO Request: POST /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:14,974 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:12:15,047 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:12:34,504 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:12:34,581 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:12:35,699 INFO Request: GET /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:35,877 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:12:37,855 INFO Request: POST /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:37,911 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:12:38,077 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:13:07,413 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-27 12:13:09,310 INFO Watching for file changes with StatReloader
2025-04-27 12:13:11,926 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:13:11,990 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:13:12,833 INFO Request: GET /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:13:12,999 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:13:15,123 INFO Request: POST /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:13:15,190 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:13:15,358 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:14:23,723 INFO Request: POST /coupons/ | User: root
2025-04-27 12:15:50,065 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:15:51,371 INFO Watching for file changes with StatReloader
2025-04-27 12:16:40,675 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:16:41,553 INFO Watching for file changes with StatReloader
2025-04-27 12:17:26,551 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-27 12:17:27,420 INFO Watching for file changes with StatReloader
2025-04-27 12:17:29,097 INFO Request: POST /coupons/ | User: root
2025-04-27 12:17:29,097 WARNING Bad Request: /coupons/
2025-04-27 12:17:40,983 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:17:41,890 INFO Watching for file changes with StatReloader
2025-04-27 12:17:42,999 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 166, in perform_create
    serializer.save()
    ~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\serializers.py", line 66, in create
    user = validated_data.pop(['user'])
KeyError: ['user']
2025-04-27 12:17:43,002 INFO Request: POST /coupons/ | User: root
2025-04-27 12:17:50,022 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:17:50,875 INFO Watching for file changes with StatReloader
2025-04-27 12:17:52,784 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 166, in perform_create
    serializer.save()
    ~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\serializers.py", line 66, in create
    user = validated_data.pop['user']
           ~~~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: 'builtin_function_or_method' object is not subscriptable
2025-04-27 12:17:52,787 INFO Request: POST /coupons/ | User: root
2025-04-27 12:18:48,053 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:18:48,970 INFO Watching for file changes with StatReloader
2025-04-27 12:19:19,836 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:19:20,712 INFO Watching for file changes with StatReloader
2025-04-27 12:19:23,604 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:19:24,424 INFO Watching for file changes with StatReloader
2025-04-27 12:19:26,329 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:30,659 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:31,785 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:32,742 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:33,624 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:34,435 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:35,284 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:36,227 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:37,019 INFO Request: POST /coupons/ | User: root
2025-04-28 12:56:42,892 INFO Watching for file changes with StatReloader
2025-04-28 12:57:02,494 INFO Request: POST /api/token/ | User: 
2025-04-28 12:57:23,314 INFO Request: GET /categories/ | User: root
2025-04-28 12:57:35,673 INFO Request: POST /categories/ | User: root
2025-04-28 12:57:50,114 INFO Request: DELETE /categories/3/ | User: root
2025-04-28 12:57:50,114 WARNING Not Found: /categories/3/
2025-04-28 12:57:55,057 INFO Request: GET /categories/3/ | User: root
2025-04-28 12:57:59,105 INFO Request: DELETE /categories/3/ | User: root
2025-04-28 12:57:59,106 WARNING Not Found: /categories/3/
2025-04-28 12:58:27,241 INFO Request: DELETE /categories/3/ | User: root
2025-04-28 12:58:27,241 WARNING Not Found: /categories/3/
2025-04-28 12:58:40,324 INFO Request: DELETE /categories/4/ | User: root
2025-04-28 12:58:40,325 WARNING Not Found: /categories/4/
2025-04-28 12:58:49,428 INFO Request: OPTIONS /categories/ | User: root
2025-04-28 12:59:32,765 INFO Request: DELETE /categories/ | User: root
2025-04-28 12:59:32,766 WARNING Method Not Allowed: /categories/
2025-04-28 12:59:36,205 INFO Request: DELETE /categories/3/ | User: root
2025-04-28 12:59:36,205 WARNING Not Found: /categories/3/
2025-04-28 13:00:33,757 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:00:36,047 INFO Watching for file changes with StatReloader
2025-04-28 13:00:38,915 INFO Request: DELETE /categories/3/ | User: root
2025-04-28 13:00:38,915 WARNING Not Found: /categories/3/
2025-04-28 13:00:43,161 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:00:45,143 INFO Watching for file changes with StatReloader
2025-04-28 13:00:49,305 INFO Request: DELETE /categories/2/ | User: root
2025-04-28 13:00:49,305 WARNING Not Found: /categories/2/
2025-04-28 13:00:51,571 INFO Request: DELETE /categories/3/ | User: root
2025-04-28 13:00:51,572 WARNING Not Found: /categories/3/
2025-04-28 13:01:29,464 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:01:30,867 INFO Watching for file changes with StatReloader
2025-04-28 13:01:33,503 INFO Request: DELETE /categories/3/ | User: root
2025-04-28 13:01:40,967 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:01:42,594 INFO Watching for file changes with StatReloader
2025-04-28 13:01:51,298 INFO Request: POST /categories/ | User: root
2025-04-28 13:02:02,674 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:02:04,290 INFO Watching for file changes with StatReloader
2025-04-28 13:02:07,719 INFO Request: POST /categories/4/ | User: root
2025-04-28 13:02:07,719 WARNING Method Not Allowed: /categories/4/
2025-04-28 13:02:13,502 INFO Request: DELETE /categories/4/ | User: root
2025-04-28 13:02:13,502 WARNING Not Found: /categories/4/
2025-04-28 13:02:33,527 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:02:35,223 INFO Watching for file changes with StatReloader
2025-04-28 13:02:38,004 INFO Request: DELETE /categories/4/ | User: root
2025-04-28 13:03:05,040 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:03:06,703 INFO Watching for file changes with StatReloader
2025-04-28 13:04:12,137 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:04:13,601 INFO Watching for file changes with StatReloader
2025-04-28 13:04:16,758 INFO Request: GET /categories/ | User: root
2025-04-28 13:04:21,976 INFO D:\python\marketplace_api\product_control_api\serializers.py changed, reloading.
2025-04-28 13:04:23,808 INFO Watching for file changes with StatReloader
2025-04-28 13:04:26,413 ERROR Internal Server Error: /categories/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\fields.py", line 437, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\fields.py", line 104, in get_attribute
    instance = getattr(instance, attr)
AttributeError: 'Category' object has no attribute 'nme'. Did you mean: 'name'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 525, in to_representation
    attribute = field.get_attribute(instance)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\fields.py", line 470, in get_attribute
    raise type(exc)(msg)
AttributeError: Got AttributeError when attempting to get a value for field `nme` on serializer `SimpleCategorySerializer`.
The serializer field might be named incorrectly and not match any attribute or key on the `Category` instance.
Original exception text was: 'Category' object has no attribute 'nme'.
2025-04-28 13:04:26,422 INFO Request: GET /categories/ | User: root
2025-04-28 13:04:37,047 INFO D:\python\marketplace_api\product_control_api\serializers.py changed, reloading.
2025-04-28 13:04:39,152 INFO Watching for file changes with StatReloader
2025-04-28 13:04:41,772 INFO Request: GET /categories/ | User: root
2025-04-28 13:04:45,900 INFO Request: POST /categories/ | User: root
2025-04-28 13:04:45,901 WARNING Bad Request: /categories/
2025-04-28 13:05:08,730 INFO D:\python\marketplace_api\product_control_api\serializers.py changed, reloading.
2025-04-28 13:05:10,280 INFO Watching for file changes with StatReloader
2025-04-28 13:05:16,957 INFO D:\python\marketplace_api\product_control_api\serializers.py changed, reloading.
2025-04-28 13:05:19,157 INFO Watching for file changes with StatReloader
2025-04-28 13:05:27,397 ERROR Internal Server Error: /categories/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 24, in perform_create
    serializer.save()
    ~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 173, in create
    raise NotImplementedError('`create()` must be implemented.')
NotImplementedError: `create()` must be implemented.
2025-04-28 13:05:27,402 INFO Request: POST /categories/ | User: root
2025-04-28 13:07:17,313 INFO D:\python\marketplace_api\product_control_api\serializers.py changed, reloading.
2025-04-28 13:07:18,909 INFO Watching for file changes with StatReloader
2025-04-28 13:07:21,261 INFO Request: POST /categories/ | User: root
2025-04-28 13:08:55,625 INFO D:\python\marketplace_api\product_control_api\serializers.py changed, reloading.
2025-04-28 13:08:57,504 INFO Watching for file changes with StatReloader
2025-04-28 13:09:00,486 INFO Request: POST /categories/ | User: root
2025-04-28 13:09:17,150 INFO D:\python\marketplace_api\product_control_api\serializers.py changed, reloading.
2025-04-28 13:09:18,778 INFO Watching for file changes with StatReloader
2025-04-28 13:09:20,926 INFO Request: POST /categories/ | User: root
2025-04-28 13:09:20,927 WARNING Bad Request: /categories/
2025-04-28 13:09:28,507 INFO Request: POST /categories/ | User: root
2025-04-28 13:09:58,206 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:09:59,527 INFO Watching for file changes with StatReloader
2025-04-28 13:16:24,599 INFO Request: GET /users/ | User: root
2025-04-28 13:16:58,697 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:17:00,883 INFO Watching for file changes with StatReloader
2025-04-28 13:17:03,452 INFO Request: GET /users/ | User: root
2025-04-28 13:17:14,921 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:17:16,399 INFO Watching for file changes with StatReloader
2025-04-28 13:17:34,831 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:17:36,351 INFO Watching for file changes with StatReloader
2025-04-28 13:17:40,526 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:17:42,116 INFO Watching for file changes with StatReloader
2025-04-28 13:17:44,832 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:17:46,341 INFO Watching for file changes with StatReloader
2025-04-28 13:17:48,369 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:17:50,104 INFO Watching for file changes with StatReloader
2025-04-28 13:18:02,461 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:18:03,737 INFO Watching for file changes with StatReloader
2025-04-28 13:18:07,454 INFO Request: GET /users/ | User: root
2025-04-28 13:18:17,605 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:18:18,934 INFO Watching for file changes with StatReloader
2025-04-28 13:18:20,939 INFO Request: GET /users/ | User: root
2025-04-28 13:21:52,539 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-28 13:21:54,321 INFO Watching for file changes with StatReloader
2025-04-28 13:39:31,018 INFO Watching for file changes with StatReloader
2025-04-28 13:39:38,169 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:39:40,011 INFO Watching for file changes with StatReloader
2025-04-28 13:39:41,493 INFO Request: GET /users/ | User: root
2025-04-28 13:40:07,089 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-28 13:40:08,832 INFO Watching for file changes with StatReloader
2025-04-28 13:40:11,597 INFO Request: GET /users/ | User: root
2025-04-28 13:40:22,630 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-28 13:40:24,167 INFO Watching for file changes with StatReloader
2025-04-28 13:40:29,077 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-28 13:40:30,518 INFO Watching for file changes with StatReloader
2025-04-28 13:40:31,961 ERROR Internal Server Error: /users/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 47, in list
    return Response(serializer.validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 267, in validated_data
    raise AssertionError(msg)
AssertionError: You must call `.is_valid()` before accessing `.validated_data`.
2025-04-28 13:40:31,969 INFO Request: GET /users/ | User: root
2025-04-28 13:40:54,472 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-28 13:40:56,278 INFO Watching for file changes with StatReloader
2025-04-28 13:40:59,080 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-28 13:41:00,817 INFO Watching for file changes with StatReloader
2025-04-28 13:41:03,502 ERROR Internal Server Error: /users/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 47, in list
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 768, in is_valid
    assert hasattr(self, 'initial_data'), (
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Cannot call `.is_valid()` as no `data=` keyword argument was passed when instantiating the serializer instance.
2025-04-28 13:41:03,506 INFO Request: GET /users/ | User: root
2025-04-28 13:41:31,002 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-28 13:41:32,409 INFO Watching for file changes with StatReloader
2025-04-28 13:41:34,535 ERROR Internal Server Error: /users/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 47, in list
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 768, in is_valid
    assert hasattr(self, 'initial_data'), (
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Cannot call `.is_valid()` as no `data=` keyword argument was passed when instantiating the serializer instance.
2025-04-28 13:41:34,543 INFO Request: GET /users/ | User: root
2025-04-28 13:41:36,771 ERROR Internal Server Error: /users/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 47, in list
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 768, in is_valid
    assert hasattr(self, 'initial_data'), (
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Cannot call `.is_valid()` as no `data=` keyword argument was passed when instantiating the serializer instance.
2025-04-28 13:41:36,776 INFO Request: GET /users/ | User: root
2025-04-28 13:41:42,917 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-28 13:41:44,696 INFO Watching for file changes with StatReloader
2025-04-28 13:41:47,022 INFO Request: GET /users/ | User: root
2025-04-28 13:41:59,704 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-28 13:42:01,553 INFO Watching for file changes with StatReloader
2025-04-28 13:42:03,205 ERROR Internal Server Error: /users/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 48, in list
    return Response(serializer.validated_data, status=status.HTTP_200_OK)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 267, in validated_data
    raise AssertionError(msg)
AssertionError: You must call `.is_valid()` before accessing `.validated_data`.
2025-04-28 13:42:03,208 INFO Request: GET /users/ | User: root
2025-04-28 13:42:21,872 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-28 13:42:23,716 INFO Watching for file changes with StatReloader
2025-04-28 13:42:26,745 INFO Request: GET /users/ | User: root
2025-04-28 18:48:59,301 INFO Watching for file changes with StatReloader
2025-04-28 18:49:01,276 INFO Request: GET / | User: 
2025-04-28 18:49:01,277 WARNING Not Found: /
2025-04-28 18:49:02,484 INFO Request: GET /admin/ | User: 
2025-04-28 18:49:02,605 INFO Request: GET /admin/login/ | User: 
2025-04-28 18:49:05,505 INFO Request: POST /admin/login/ | User: root
2025-04-28 18:49:05,629 INFO Request: GET /admin/ | User: root
2025-04-28 18:49:10,882 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:49:11,049 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:49:46,153 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:49:46,225 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:49:46,934 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:49:47,104 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:49:47,764 INFO Request: GET /admin/django_celery_results/groupresult/ | User: root
2025-04-28 18:49:47,932 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:49:48,458 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:49:48,622 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:49:49,980 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:49:50,053 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:50:35,904 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:50:36,078 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:50:36,374 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:50:36,542 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:50:57,597 INFO Watching for file changes with StatReloader
2025-04-28 18:51:03,505 INFO Request: GET / | User: root
2025-04-28 18:51:03,506 WARNING Not Found: /
2025-04-28 18:51:06,839 INFO Request: GET /admin/ | User: root
2025-04-28 18:51:09,597 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:51:09,777 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:51:11,284 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:51:11,342 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:52:09,195 INFO Watching for file changes with StatReloader
2025-04-28 18:52:34,409 INFO Request: POST /api/token/ | User: 
2025-04-28 18:53:15,288 INFO Request: GET /products/ | User: root
2025-04-28 18:53:21,802 INFO Request: GET /products/5/ | User: root
2025-04-28 18:53:28,198 INFO Request: POST /products/5/buy/ | User: root
2025-04-28 18:53:41,965 INFO Request: POST /profile. | User: 
2025-04-28 18:53:41,965 WARNING Not Found: /profile.
2025-04-28 18:53:43,605 INFO Request: POST /profile/ | User: root
2025-04-28 18:53:43,605 WARNING Method Not Allowed: /profile/
2025-04-28 18:53:47,221 INFO Request: GET /profile/ | User: root
2025-04-28 18:54:05,258 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:54:05,319 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:54:06,437 INFO Request: GET /admin/django_celery_results/groupresult/ | User: root
2025-04-28 18:54:06,493 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:54:07,310 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:54:07,477 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:54:08,093 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:54:08,149 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:54:08,774 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:54:08,835 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:54:09,054 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:54:09,234 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:54:09,438 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:54:09,507 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:54:09,843 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:54:09,908 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:54:16,873 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-04-28 18:54:18,379 INFO Watching for file changes with StatReloader
2025-04-28 18:56:12,475 INFO Watching for file changes with StatReloader
2025-04-28 18:56:33,274 INFO Request: GET /products/ | User: root
2025-04-28 18:56:42,102 INFO Request: GET /products/4/ | User: root
2025-04-28 18:56:56,345 INFO Request: POST /products/4/buy/ | User: root
2025-04-28 18:57:08,885 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:57:08,945 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:57:10,036 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:57:10,217 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:57:11,097 INFO Request: GET /admin/django_celery_results/groupresult/ | User: root
2025-04-28 18:57:11,155 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:57:11,908 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:57:12,093 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:57:12,529 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:57:12,592 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:57:13,155 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:57:13,323 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:57:14,219 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 18:57:14,276 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 18:58:46,125 INFO Watching for file changes with StatReloader
2025-04-28 18:59:53,068 INFO Request: POST /products/4/buy/ | User: root
2025-04-28 19:00:05,842 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 19:00:05,907 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 19:00:06,857 INFO Request: GET /admin/django_celery_results/groupresult/ | User: root
2025-04-28 19:00:06,927 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 19:00:07,831 INFO Request: GET /admin/django_celery_results/taskresult/ | User: root
2025-04-28 19:00:07,895 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-28 19:02:20,006 INFO Watching for file changes with StatReloader
2025-04-28 19:11:08,941 INFO Watching for file changes with StatReloader
2025-04-28 19:11:15,353 INFO Request: POST /products/5/buy/ | User: root
2025-04-29 13:30:12,526 INFO Watching for file changes with StatReloader
2025-04-29 13:30:23,646 INFO Watching for file changes with StatReloader
2025-04-29 17:56:07,073 INFO Watching for file changes with StatReloader
2025-04-29 17:56:11,706 INFO Request: GET /products/ | User: 
2025-04-29 17:56:11,706 WARNING Unauthorized: /products/
2025-04-29 17:56:22,971 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-29 17:56:23,818 INFO Watching for file changes with StatReloader
2025-04-29 17:56:24,911 INFO Request: GET /products/ | User: 
2025-04-29 17:56:24,912 WARNING Unauthorized: /products/
2025-04-29 17:56:27,752 INFO Request: GET /products/ | User: 
2025-04-29 17:56:27,752 WARNING Unauthorized: /products/
2025-04-29 17:57:10,721 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-29 17:57:11,670 INFO Watching for file changes with StatReloader
2025-04-29 17:57:13,725 INFO Request: GET /products/ | User: 
2025-04-29 17:57:13,726 WARNING Unauthorized: /products/
2025-04-29 17:59:19,044 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-29 17:59:20,395 INFO Watching for file changes with StatReloader
2025-04-29 17:59:22,417 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-29 17:59:23,345 INFO Watching for file changes with StatReloader
2025-04-29 17:59:24,808 INFO Request: GET /products/ | User: 
2025-04-29 18:00:29,600 INFO Request: GET /products/ | User: 
2025-04-29 18:00:35,818 INFO Request: POST /api/token/ | User: 
2025-04-29 18:00:44,535 INFO Request: GET /products/5/ | User: 
2025-04-29 18:00:46,230 INFO Request: GET /products/5/add/ | User: 
2025-04-29 18:00:46,230 WARNING Unauthorized: /products/5/add/
2025-04-29 18:00:49,227 INFO Request: POST /products/5/add/ | User: 
2025-04-29 18:00:49,227 WARNING Unauthorized: /products/5/add/
2025-04-29 18:00:55,970 ERROR Internal Server Error: /products/5/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ~~~~~~~~^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
usercontrol_api.models.WishlistItem.DoesNotExist: WishlistItem matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 135, in post
    wishlist_item, created = WishlistItem.objects.get_or_create(user=user,product=product, defaults={'quantity': quantity})
                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 955, in get_or_create
    return self.create(**params), True
           ~~~~~~~~~~~^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 54, in wishlist_notification
    added_quantity = getattr(instance, 'added_quantity')
AttributeError: 'WishlistItem' object has no attribute 'added_quantity'
2025-04-29 18:00:55,974 INFO Request: POST /products/5/add/ | User: root
2025-04-29 18:01:09,196 ERROR Internal Server Error: /products/5/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ~~~~~~~~^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
usercontrol_api.models.WishlistItem.DoesNotExist: WishlistItem matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 135, in post
    wishlist_item, created = WishlistItem.objects.get_or_create(user=user,product=product, defaults={'quantity': quantity})
                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 955, in get_or_create
    return self.create(**params), True
           ~~~~~~~~~~~^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 54, in wishlist_notification
    added_quantity = getattr(instance, 'added_quantity')
AttributeError: 'WishlistItem' object has no attribute 'added_quantity'
2025-04-29 18:01:09,199 INFO Request: POST /products/5/add/ | User: root
2025-04-29 18:01:50,228 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-29 18:01:51,168 INFO Watching for file changes with StatReloader
2025-04-29 18:01:52,909 ERROR Internal Server Error: /products/5/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ~~~~~~~~^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
usercontrol_api.models.WishlistItem.DoesNotExist: WishlistItem matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 135, in post
    wishlist_item, created = WishlistItem.objects.get_or_create(user=user,product=product, defaults={'quantity': quantity})
                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 955, in get_or_create
    return self.create(**params), True
           ~~~~~~~~~~~^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 54, in wishlist_notification
    added_quantity = getattr(instance, 'added_quantity')
AttributeError: 'WishlistItem' object has no attribute 'added_quantity'
2025-04-29 18:01:52,914 INFO Request: POST /products/5/add/ | User: root
2025-04-29 18:02:00,630 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-29 18:02:01,469 INFO Watching for file changes with StatReloader
2025-04-29 18:03:34,351 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-29 18:03:35,288 INFO Watching for file changes with StatReloader
2025-04-29 18:03:56,779 INFO Request: POST /products/5/add/ | User: root
2025-04-29 18:04:11,430 INFO Request: POST /products/5/add/ | User: root
2025-04-29 18:05:06,540 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-29 18:05:07,668 INFO Watching for file changes with StatReloader
2025-04-29 18:05:38,022 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-29 18:05:38,949 INFO Watching for file changes with StatReloader
2025-04-29 18:05:40,757 INFO Request: POST /products/5/add/ | User: root
2025-04-29 18:05:59,364 INFO Request: GET /profile/ | User: root
2025-04-29 18:06:44,971 INFO Request: GET /notifications | User: 
2025-04-29 18:06:45,025 INFO Request: GET /notifications/ | User: root
2025-04-29 18:06:46,229 INFO Request: GET /notifications/ | User: root
2025-04-29 18:07:51,004 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-04-29 18:07:51,981 INFO Watching for file changes with StatReloader
2025-04-29 18:07:54,863 INFO Request: GET /notifications/ | User: root
2025-04-29 18:07:57,627 INFO Request: GET /notifications/admin/ | User: root
2025-04-29 18:07:57,627 WARNING Not Found: /notifications/admin/
2025-04-29 18:08:03,140 INFO Request: GET /notifications/admin/ | User: root
2025-04-29 18:08:03,140 WARNING Not Found: /notifications/admin/
2025-04-29 18:08:06,794 INFO Watching for file changes with StatReloader
2025-04-29 18:08:14,403 INFO Request: GET /notifications/admin/ | User: root
2025-04-29 18:08:14,404 WARNING Not Found: /notifications/admin/
2025-04-29 18:08:36,953 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:08:37,807 INFO Watching for file changes with StatReloader
2025-04-29 18:08:39,932 INFO Request: GET /notification/admin/ | User: root
2025-04-29 18:08:39,933 WARNING Method Not Allowed: /notification/admin/
2025-04-29 18:08:59,695 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:09:00,552 INFO Watching for file changes with StatReloader
2025-04-29 18:09:59,066 INFO Request: POST /notification/admin/ | User: root
2025-04-29 18:09:59,067 WARNING Bad Request: /notification/admin/
2025-04-29 18:10:04,123 ERROR Internal Server Error: /notification/admin/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.StringDataRightTruncation: ОШИБКА:  значение не умещается в тип character varying(8)


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 142, in post
    notification = Notification.objects.create(
        user=user,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.DataError: ОШИБКА:  значение не умещается в тип character varying(8)

2025-04-29 18:10:04,134 INFO Request: POST /notification/admin/ | User: root
2025-04-29 18:11:27,558 INFO Watching for file changes with StatReloader
2025-04-29 18:12:20,075 INFO Request: POST /api/token/ | User: 
2025-04-29 18:12:34,833 INFO Request: POST /notification/admin/ | User: x1ryrg
2025-04-29 18:12:34,833 WARNING Forbidden: /notification/admin/
2025-04-29 18:12:37,397 INFO Request: POST /notification/admin/ | User: root
2025-04-29 18:14:25,175 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:14:26,255 INFO Watching for file changes with StatReloader
2025-04-29 18:14:44,851 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:14:45,662 INFO Watching for file changes with StatReloader
2025-04-29 18:14:48,013 INFO Request: POST /notification/admin/ | User: root
2025-04-29 18:15:01,311 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:15:02,138 INFO Watching for file changes with StatReloader
2025-04-29 18:15:18,291 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:16:07,931 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-29 18:16:08,876 INFO Watching for file changes with StatReloader
2025-04-29 18:16:10,804 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:16:15,390 INFO Request: GET /notifications/67/ | User: x1ryrg
2025-04-29 18:16:18,231 INFO Request: GET /notifications/6 | User: 
2025-04-29 18:16:18,279 INFO Request: GET /notifications/6/ | User: x1ryrg
2025-04-29 18:16:18,279 WARNING Not Found: /notifications/6/
2025-04-29 18:16:19,517 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:16:26,620 INFO Request: GET /notifications/69/ | User: x1ryrg
2025-04-29 18:16:28,018 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:23:54,054 INFO Watching for file changes with StatReloader
2025-04-29 18:23:58,672 INFO Request: POST /api/token/ | User: 
2025-04-29 18:24:11,460 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 181, in _view_wrapper
    result = _pre_process_request(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 127, in _pre_process_request
    result = middleware.process_request(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\middleware\cache.py", line 156, in process_request
    if request.method not in ("GET", "HEAD"):
       ^^^^^^^^^^^^^^
AttributeError: 'NotificationView' object has no attribute 'method'
2025-04-29 18:24:11,463 INFO Request: GET /notifications/ | User: root
2025-04-29 18:24:47,810 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:24:48,806 INFO Watching for file changes with StatReloader
2025-04-29 18:24:50,120 INFO Request: GET /notifications/ | User: root
2025-04-29 18:25:10,173 INFO Request: POST /api/token/ | User: 
2025-04-29 18:25:17,822 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:25:29,823 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:25:30,748 INFO Watching for file changes with StatReloader
2025-04-29 18:25:33,050 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 181, in _view_wrapper
    result = _pre_process_request(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 127, in _pre_process_request
    result = middleware.process_request(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\middleware\cache.py", line 156, in process_request
    if request.method not in ("GET", "HEAD"):
       ^^^^^^^^^^^^^^
AttributeError: 'NotificationView' object has no attribute 'method'
2025-04-29 18:25:33,053 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:27:57,990 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:27:58,881 INFO Watching for file changes with StatReloader
2025-04-29 18:28:01,542 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:28:02,536 INFO Watching for file changes with StatReloader
2025-04-29 18:28:09,355 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:28:10,285 INFO Watching for file changes with StatReloader
2025-04-29 18:28:12,744 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:28:30,482 INFO Request: GET /notifications/ | User: root
2025-04-29 18:28:38,411 INFO Request: GET /notifications/ | User: root
2025-04-29 18:28:42,808 INFO Request: GET /notifications/67/ | User: root
2025-04-29 18:28:42,809 WARNING Not Found: /notifications/67/
2025-04-29 18:28:47,379 INFO Request: GET /notifications/67/ | User: x1ryrg
2025-04-29 18:28:50,332 INFO Request: GET /notifications/ | User: root
2025-04-29 18:28:53,372 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:28:54,510 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:28:59,695 INFO Request: GET /notifications/67/ | User: x1ryrg
2025-04-29 18:29:01,355 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:29:36,562 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:29:37,633 INFO Watching for file changes with StatReloader
2025-04-29 18:30:17,265 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:30:18,140 INFO Watching for file changes with StatReloader
2025-04-29 18:30:27,762 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:30:28,778 INFO Watching for file changes with StatReloader
2025-04-29 18:30:34,896 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:30:36,062 INFO Watching for file changes with StatReloader
2025-04-29 18:30:40,347 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:30:41,972 INFO Watching for file changes with StatReloader
2025-04-29 18:31:08,099 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:31:08,938 INFO Watching for file changes with StatReloader
2025-04-29 18:31:15,797 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:31:16,623 INFO Watching for file changes with StatReloader
2025-04-29 18:32:25,264 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:32:26,268 INFO Watching for file changes with StatReloader
2025-04-29 18:32:27,550 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 107, in list
    cached_data = cache.get(cache_key)
                  ^^^^^
NameError: name 'cache' is not defined
2025-04-29 18:32:27,552 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:32:45,980 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:32:46,837 INFO Watching for file changes with StatReloader
2025-04-29 18:32:53,975 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:32:54,863 INFO Watching for file changes with StatReloader
2025-04-29 18:32:57,329 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'NoneType'>`
2025-04-29 18:32:57,330 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:33:19,347 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:33:24,712 INFO Request: GET /notifications/69/ | User: x1ryrg
2025-04-29 18:33:26,203 INFO Request: GET /notifications/6 | User: 
2025-04-29 18:33:26,249 INFO Request: GET /notifications/6/ | User: x1ryrg
2025-04-29 18:33:26,249 WARNING Not Found: /notifications/6/
2025-04-29 18:33:27,329 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'NoneType'>`
2025-04-29 18:33:27,330 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:33:33,317 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:35:41,108 INFO Watching for file changes with StatReloader
2025-04-29 18:35:44,387 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:35:47,923 INFO Request: GET /notifications/ | User: root
2025-04-29 18:36:07,500 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:36:08,310 INFO Watching for file changes with StatReloader
2025-04-29 18:36:14,558 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:36:15,559 INFO Watching for file changes with StatReloader
2025-04-29 18:36:18,637 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:36:19,807 INFO Watching for file changes with StatReloader
2025-04-29 18:36:42,338 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:36:43,109 INFO Watching for file changes with StatReloader
2025-04-29 18:36:48,000 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:37:00,241 INFO Request: DELETE /notifications/67/ | User: x1ryrg
2025-04-29 18:37:03,547 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:37:25,047 INFO Watching for file changes with StatReloader
2025-04-29 18:37:29,126 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:37:30,660 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:38:14,741 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:38:15,701 INFO Watching for file changes with StatReloader
2025-04-29 18:38:17,302 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:38:18,652 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:38:27,807 INFO Request: POST /notification/admin/ | User: root
2025-04-29 18:38:31,599 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:38:35,773 INFO Request: GET /notifications/71/ | User: x1ryrg
2025-04-29 18:38:36,943 INFO Request: GET /notifications/7 | User: 
2025-04-29 18:38:36,989 INFO Request: GET /notifications/7/ | User: x1ryrg
2025-04-29 18:38:36,989 WARNING Not Found: /notifications/7/
2025-04-29 18:38:37,931 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:38:50,442 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:39:10,449 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:39:19,329 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:39:20,230 INFO Watching for file changes with StatReloader
2025-04-29 18:39:27,389 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:39:33,678 INFO Request: GET /notifications/ | User: x1ryrg
2025-04-29 18:39:47,720 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:39:48,610 INFO Watching for file changes with StatReloader
2025-04-29 18:40:15,871 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-29 18:40:16,684 INFO Watching for file changes with StatReloader
2025-04-29 18:40:19,236 INFO Request: GET /profile. | User: 
2025-04-29 18:40:19,237 WARNING Not Found: /profile.
2025-04-29 18:40:20,768 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:44:15,311 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:44:24,439 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:45:07,185 INFO Request: PATCH /profile/ | User: x1ryrg
2025-04-29 18:45:12,602 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:46:03,759 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:46:31,262 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:47:09,042 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:47:12,854 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:47:23,706 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:47:35,588 INFO Request: GET /profile/ | User: root
2025-04-29 18:47:41,916 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:47:46,970 INFO Watching for file changes with StatReloader
2025-04-29 18:47:49,911 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:47:56,915 INFO Request: PATCH /profile/ | User: x1ryrg
2025-04-29 18:48:08,498 INFO Request: PATCH /profile/ | User: x1ryrg
2025-04-29 18:48:11,543 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:50:13,140 INFO Watching for file changes with StatReloader
2025-04-29 18:50:15,939 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:50:19,623 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:59:04,717 INFO Watching for file changes with StatReloader
2025-04-29 18:59:24,097 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:59:27,205 INFO Request: GET /profile/ | User: x1ryrg
2025-04-29 18:59:34,916 INFO Request: GET /products/ | User: 
2025-04-29 18:59:52,845 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-04-29 18:59:53,826 INFO Watching for file changes with StatReloader
2025-04-29 18:59:55,374 INFO Request: GET /products/ | User: 
2025-04-29 19:00:07,488 INFO Request: GET /products/ | User: 
2025-04-29 19:00:12,430 INFO Request: GET /products/ | User: 
2025-04-29 19:00:15,491 INFO Request: GET /products/ | User: 
2025-04-29 19:00:16,881 INFO Request: GET /products/ | User: 
2025-04-29 19:00:19,077 INFO Request: GET /products/ | User: 
2025-04-29 19:00:21,290 INFO Request: GET /products/ | User: 
2025-04-29 19:00:21,290 WARNING Not Found: /products/
2025-04-29 19:00:22,850 INFO Request: GET /products/ | User: 
2025-05-02 00:07:15,381 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:07:15,401 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:07:15,810 INFO Request: POST /products/3/add/ | User: testuser
2025-05-02 00:07:36,910 INFO Request: POST /products/1/add/ | User: testuser
2025-05-02 00:11:19,258 INFO Request: POST /products/1/add/ | User: testuser
2025-05-02 00:13:52,346 INFO Request: POST /products/1/add/ | User: testuser
2025-05-02 00:18:04,292 INFO Request: POST /products/1/add/ | User: testuser
2025-05-02 00:18:28,388 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:18:28,407 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:18:50,734 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:19:07,225 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:19:38,923 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:19:38,934 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:19:38,935 WARNING Bad Request: /wishlist/buy/
2025-05-02 00:20:03,875 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:20:03,895 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:20:15,856 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:20:15,878 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:20:35,457 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:20:35,468 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:20:35,468 WARNING Bad Request: /wishlist/buy/
2025-05-02 00:20:59,156 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:20:59,176 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:26:01,320 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:26:01,337 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:26:09,785 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:26:09,802 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:28:16,914 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:28:16,932 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:32:57,676 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:32:57,697 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:32:57,710 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:33:15,110 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:33:15,130 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:33:15,142 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:33:39,223 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:33:39,242 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:33:39,253 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:33:45,577 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:33:45,600 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:33:45,614 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:34:09,085 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:34:09,104 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:34:09,115 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:34:49,837 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:34:49,852 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:34:49,865 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:34:57,967 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:34:57,986 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:34:57,999 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:35:29,776 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:35:29,798 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:35:29,809 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:35:51,224 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:35:51,244 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:35:51,254 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:35:58,424 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:35:58,443 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:35:58,454 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:36:04,709 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:36:04,727 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:36:04,739 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:36:05,137 INFO Request: POST /products/3/add/ | User: testuser
2025-05-02 00:36:57,470 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:36:57,494 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:36:57,508 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:36:57,916 INFO Request: POST /products/3/add/ | User: testuser
2025-05-02 00:38:21,676 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:38:21,700 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:38:21,715 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:38:34,622 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:38:34,640 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:38:34,652 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:39:22,878 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:39:22,897 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:39:22,909 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:39:36,368 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:39:36,387 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:39:36,397 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:39:51,390 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:39:51,411 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:39:51,421 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:39:58,530 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:39:58,549 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:39:58,561 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:40:05,651 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:40:05,670 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:40:05,682 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:40:09,523 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:40:09,546 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-02 00:40:09,561 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-02 00:40:22,646 INFO Watching for file changes with StatReloader
2025-05-02 00:40:31,297 INFO Watching for file changes with StatReloader
2025-05-02 00:40:33,995 INFO Request: GET / | User: root
2025-05-02 00:40:33,995 WARNING Not Found: /
2025-05-02 00:40:34,196 INFO Request: GET /favicon.ico | User: root
2025-05-02 00:40:34,197 WARNING Not Found: /favicon.ico
2025-05-02 00:40:35,426 INFO Request: GET /admin/ | User: root
2025-05-02 00:40:38,196 INFO Request: GET /admin/payment_system_api/delivery/ | User: root
2025-05-02 00:40:38,348 INFO Request: GET /admin/jsi18n/ | User: root
2025-05-02 00:40:45,997 INFO Request: GET /admin/payment_system_api/history/ | User: root
2025-05-02 00:40:46,058 INFO Request: GET /admin/jsi18n/ | User: root
2025-05-02 00:40:48,535 INFO Request: GET /admin/product_control_api/category/ | User: root
2025-05-02 00:40:48,605 INFO Request: GET /admin/jsi18n/ | User: root
2025-05-02 00:40:53,951 INFO Request: GET /admin/product_control_api/productvariant/ | User: root
2025-05-02 00:40:54,012 INFO Request: GET /admin/jsi18n/ | User: root
2025-05-02 00:40:57,252 INFO Request: GET /admin/seller_store_api/review/ | User: root
2025-05-02 00:40:57,423 INFO Request: GET /admin/jsi18n/ | User: root
2025-05-02 22:00:21,986 INFO Watching for file changes with StatReloader
2025-05-02 22:04:17,182 INFO Watching for file changes with StatReloader
2025-05-02 22:06:55,803 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-05-02 22:06:56,627 INFO Watching for file changes with StatReloader
2025-05-02 22:07:18,992 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-05-02 22:07:19,840 INFO Watching for file changes with StatReloader
2025-05-02 22:08:40,792 INFO Watching for file changes with StatReloader
2025-05-02 22:11:48,293 INFO Watching for file changes with StatReloader
2025-05-02 22:16:37,551 INFO Watching for file changes with StatReloader
2025-05-02 22:16:58,400 INFO Request: POST /api/token/ | User: 
2025-05-02 22:17:24,175 INFO Request: POST /products/5/buy/ | User: root
2025-05-02 22:20:50,963 INFO Watching for file changes with StatReloader
2025-05-02 22:21:00,200 INFO Request: GET /profile/ | User: root
2025-05-02 22:21:05,859 INFO Request: GET /profile/ | User: root
2025-05-02 22:25:43,293 INFO Watching for file changes with StatReloader
2025-05-02 22:25:52,617 INFO Request: GET / | User: root
2025-05-02 22:25:52,618 WARNING Not Found: /
2025-05-02 22:25:52,803 INFO Request: GET /favicon.ico | User: root
2025-05-02 22:25:52,803 WARNING Not Found: /favicon.ico
2025-05-02 22:25:54,008 INFO Request: GET /admin/ | User: root
2025-05-02 22:26:00,656 INFO Request: GET /admin/ | User: root
2025-05-02 22:26:56,672 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 22:26:57,494 INFO Watching for file changes with StatReloader
2025-05-02 22:28:04,843 INFO Watching for file changes with StatReloader
2025-05-02 22:39:47,587 INFO Watching for file changes with StatReloader
2025-05-02 22:40:11,185 INFO Watching for file changes with StatReloader
2025-05-02 22:40:23,233 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 22:40:24,070 INFO Watching for file changes with StatReloader
2025-05-02 22:40:34,175 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 22:40:34,964 INFO Watching for file changes with StatReloader
2025-05-02 22:40:42,170 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 22:40:43,026 INFO Watching for file changes with StatReloader
2025-05-02 22:44:13,869 INFO Request: GET /profile/ | User: root
2025-05-02 22:44:16,820 INFO Request: GET /profile/ | User: root
2025-05-02 22:48:19,724 INFO Request: GET /profile/ | User: root
2025-05-02 22:52:32,550 INFO Watching for file changes with StatReloader
2025-05-02 22:54:58,428 INFO Watching for file changes with StatReloader
2025-05-02 22:57:31,853 INFO Watching for file changes with StatReloader
2025-05-02 23:00:13,424 INFO Watching for file changes with StatReloader
2025-05-02 23:12:48,518 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-05-02 23:12:49,664 INFO Watching for file changes with StatReloader
2025-05-02 23:12:54,339 INFO Watching for file changes with StatReloader
2025-05-02 23:19:05,587 INFO Watching for file changes with StatReloader
2025-05-02 23:19:18,806 INFO Watching for file changes with StatReloader
2025-05-02 23:22:50,330 INFO Watching for file changes with StatReloader
2025-05-02 23:24:22,216 INFO Watching for file changes with StatReloader
2025-05-02 23:25:51,904 INFO Request: POST /products/5/buy/ | User: 
2025-05-02 23:25:51,904 WARNING Unauthorized: /products/5/buy/
2025-05-02 23:25:55,597 INFO Request: POST /api/token/ | User: 
2025-05-02 23:26:06,394 INFO Request: POST /products/5/buy/ | User: root
2025-05-02 23:27:50,460 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-05-02 23:27:51,253 INFO Watching for file changes with StatReloader
2025-05-02 23:28:04,995 INFO Watching for file changes with StatReloader
2025-05-02 23:28:47,851 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-05-02 23:28:48,569 INFO Watching for file changes with StatReloader
2025-05-02 23:29:45,341 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:29:46,042 INFO Watching for file changes with StatReloader
2025-05-02 23:32:10,304 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:32:11,086 INFO Watching for file changes with StatReloader
2025-05-02 23:34:27,779 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:34:28,601 INFO Watching for file changes with StatReloader
2025-05-02 23:36:02,704 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:36:03,534 INFO Watching for file changes with StatReloader
2025-05-02 23:38:57,496 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:38:58,253 INFO Watching for file changes with StatReloader
2025-05-02 23:39:19,205 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:39:19,991 INFO Watching for file changes with StatReloader
2025-05-02 23:43:04,669 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:43:05,542 INFO Watching for file changes with StatReloader
2025-05-02 23:45:25,850 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:45:26,638 INFO Watching for file changes with StatReloader
2025-05-02 23:45:42,519 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:45:43,207 INFO Watching for file changes with StatReloader
2025-05-02 23:46:08,219 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-02 23:46:08,939 INFO Watching for file changes with StatReloader
2025-05-04 10:02:03,991 INFO Watching for file changes with StatReloader
2025-05-04 10:05:44,813 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:05:46,309 INFO Watching for file changes with StatReloader
2025-05-04 10:07:47,007 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:07:48,534 INFO Watching for file changes with StatReloader
2025-05-04 10:11:42,671 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:11:44,318 INFO Watching for file changes with StatReloader
2025-05-04 10:12:03,422 INFO Watching for file changes with StatReloader
2025-05-04 10:13:23,522 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:13:25,230 INFO Watching for file changes with StatReloader
2025-05-04 10:21:52,477 INFO Watching for file changes with StatReloader
2025-05-04 10:24:11,545 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:24:13,140 INFO Watching for file changes with StatReloader
2025-05-04 10:27:38,313 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:27:39,748 INFO Watching for file changes with StatReloader
2025-05-04 10:29:47,739 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:29:49,216 INFO Watching for file changes with StatReloader
2025-05-04 10:31:27,978 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:31:29,422 INFO Watching for file changes with StatReloader
2025-05-04 10:32:44,238 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:32:45,521 INFO Watching for file changes with StatReloader
2025-05-04 10:34:31,829 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:34:33,181 INFO Watching for file changes with StatReloader
2025-05-04 10:35:14,505 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:35:15,667 INFO Watching for file changes with StatReloader
2025-05-04 10:36:54,261 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:36:55,664 INFO Watching for file changes with StatReloader
2025-05-04 10:39:34,431 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 10:39:36,084 INFO Watching for file changes with StatReloader
2025-05-04 11:42:13,194 INFO Watching for file changes with StatReloader
2025-05-04 11:43:12,079 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-05-04 11:43:13,545 INFO Watching for file changes with StatReloader
2025-05-04 11:43:28,205 INFO Request: POST /api/token/ | User: 
2025-05-04 11:43:40,559 INFO Request: POST /delivery/ | User: root
2025-05-04 11:43:40,560 WARNING Bad Request: /delivery/
2025-05-04 11:43:45,236 INFO Request: GET /delivery/ | User: root
2025-05-04 11:44:02,380 INFO Request: POST /delivery/28/take/ | User: root
2025-05-04 11:44:02,380 WARNING Bad Request: /delivery/28/take/
2025-05-04 11:44:15,053 INFO Request: POST /delivery/28/take/ | User: root
2025-05-04 11:44:22,279 INFO Request: GET /delivery/29/ | User: root
2025-05-04 11:44:30,834 INFO Request: POST /delivery/29/take/ | User: root
2025-05-06 10:41:43,722 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:41:43,754 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-06 10:41:43,824 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:41:44,341 INFO Request: POST /products/3/add/ | User: testuser
2025-05-06 10:42:48,438 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:42:48,472 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-06 10:42:48,531 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:42:48,933 INFO Request: POST /products/3/add/ | User: testuser
2025-05-06 10:52:20,236 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:52:20,301 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-06 10:52:20,324 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:52:20,856 INFO Request: POST /products/3/add/ | User: testuser
2025-05-06 10:53:10,476 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:53:10,498 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-06 10:53:10,513 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:53:10,915 INFO Request: POST /products/3/add/ | User: testuser
2025-05-06 10:53:27,626 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:53:27,659 INFO Request: POST /wishlist/buy/ | User: testuser
2025-05-06 10:53:27,717 INFO Request: POST /products/1/buy/ | User: testuser
2025-05-06 10:53:28,119 INFO Request: POST /products/3/add/ | User: testuser
2025-05-13 11:07:06,571 INFO Watching for file changes with StatReloader
2025-05-13 11:08:19,551 INFO Watching for file changes with StatReloader
2025-05-13 11:08:29,882 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-05-13 11:08:31,519 INFO Watching for file changes with StatReloader
2025-05-13 11:08:35,682 INFO Watching for file changes with StatReloader
2025-05-13 11:08:53,044 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-05-13 11:08:54,840 INFO Watching for file changes with StatReloader
2025-05-13 11:10:08,246 INFO Watching for file changes with StatReloader
2025-05-13 11:11:28,172 INFO Watching for file changes with StatReloader
2025-05-13 11:11:48,026 INFO Watching for file changes with StatReloader
2025-05-13 11:12:51,608 INFO Watching for file changes with StatReloader
2025-05-13 11:13:40,748 INFO Watching for file changes with StatReloader
2025-05-13 11:14:09,928 INFO Watching for file changes with StatReloader
2025-05-13 11:14:48,130 INFO Watching for file changes with StatReloader
2025-05-13 11:16:12,287 INFO Watching for file changes with StatReloader
2025-05-13 11:16:29,638 INFO Watching for file changes with StatReloader
2025-05-13 11:18:18,395 INFO Watching for file changes with StatReloader
2025-05-13 11:18:26,791 INFO Request: POST /api/token/ | User: 
2025-05-13 11:18:48,098 INFO Request: GET / | User: 
2025-05-13 11:18:48,099 WARNING Not Found: /
2025-05-13 11:18:54,435 INFO Request: GET /products/ | User: 
2025-05-13 11:19:06,325 INFO Request: GET /products/1/ | User: 
2025-05-13 11:19:06,326 WARNING Not Found: /products/1/
2025-05-13 11:19:09,547 INFO Request: GET /products/ | User: 
2025-05-13 11:19:12,875 ERROR Internal Server Error: /products/2/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\product_control_api\views.py", line 125, in retrieve
    'comments': comments_serializer.data
                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 523, in to_representation
    for field in fields:
                 ^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 384, in _readable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ~~~~~~~~~~~~~~~~^
        source, info, model, depth
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
    ...<2 lines>...
    )
django.core.exceptions.ImproperlyConfigured: Field name `photo` is not valid for model `Review` in `seller_store_api.serializers.ReviewSerializer`.
2025-05-13 11:19:12,896 INFO Request: GET /products/2/ | User: 
2025-05-13 11:19:16,535 ERROR Internal Server Error: /products/2/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\product_control_api\views.py", line 125, in retrieve
    'comments': comments_serializer.data
                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 523, in to_representation
    for field in fields:
                 ^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 384, in _readable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ~~~~~~~~~~~~~~~~^
        source, info, model, depth
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
    ...<2 lines>...
    )
django.core.exceptions.ImproperlyConfigured: Field name `photo` is not valid for model `Review` in `seller_store_api.serializers.ReviewSerializer`.
2025-05-13 11:19:16,543 INFO Request: GET /products/2/ | User: 
2025-05-13 11:20:21,168 INFO D:\python\marketplace_api\seller_store_api\serializers.py changed, reloading.
2025-05-13 11:20:22,967 INFO Watching for file changes with StatReloader
2025-05-13 11:20:26,421 INFO Request: GET /products/2/ | User: 
2025-05-13 11:21:34,766 INFO Request: GET /products/ | User: 
2025-05-13 11:21:43,705 INFO Request: GET /products/ | User: 
2025-05-13 11:21:51,274 INFO Request: GET /products/ | User: 
2025-05-13 11:21:53,586 INFO Request: GET /products/ | User: 
2025-05-13 11:21:58,120 INFO Request: GET /products/ | User: 
2025-05-13 11:25:06,219 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-05-13 11:25:07,720 INFO Watching for file changes with StatReloader
2025-05-13 11:25:11,569 INFO Request: GET /products/ | User: 
2025-05-13 11:25:15,551 ERROR Internal Server Error: /products/2/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\product_control_api\views.py", line 118, in retrieve
    all_products = ProductVariant.objects.filter(product=product)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "Бомбер Классический - L (50) - Размер верхней одежды | Черный - Цвет (Quantity: 42)": Must be "Product" instance.
2025-05-13 11:25:15,564 INFO Request: GET /products/2/ | User: 
2025-05-13 11:27:03,150 INFO Watching for file changes with StatReloader
2025-05-13 11:27:07,045 ERROR Internal Server Error: /products/2/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\product_control_api\views.py", line 118, in retrieve
    all_products = ProductVariant.objects.filter(product=product)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "Бомбер Классический - L (50) - Размер верхней одежды | Черный - Цвет (Quantity: 42)": Must be "Product" instance.
2025-05-13 11:27:07,050 INFO Request: GET /products/2/ | User: 
2025-05-13 11:28:15,040 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-05-13 11:28:16,583 INFO Watching for file changes with StatReloader
2025-05-13 11:28:19,858 ERROR Internal Server Error: /products/2/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\product_control_api\views.py", line 118, in retrieve
    all_products = ProductVariant.objects.filter(product=product)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "Бомбер Классический - L (50) - Размер верхней одежды | Черный - Цвет (Quantity: 42)": Must be "Product" instance.
2025-05-13 11:28:19,863 INFO Request: GET /products/2/ | User: 
2025-05-13 13:42:44,754 INFO Watching for file changes with StatReloader
2025-05-13 13:42:51,239 ERROR Internal Server Error: /products/2/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\product_control_api\views.py", line 118, in retrieve
    all_products = ProductVariant.objects.filter(product=product)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "Бомбер Классический - L (50) - Размер верхней одежды | Черный - Цвет (Quantity: 42)": Must be "Product" instance.
2025-05-13 13:42:51,258 INFO Request: GET /products/2/ | User: 
2025-05-13 13:42:59,391 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-05-13 13:43:01,056 INFO Watching for file changes with StatReloader
2025-05-13 13:43:03,751 INFO Request: GET /products/2/ | User: 
2025-05-13 13:43:12,709 INFO D:\python\marketplace_api\product_control_api\views.py changed, reloading.
2025-05-13 13:43:13,983 INFO Watching for file changes with StatReloader
2025-05-15 13:53:28,543 INFO Watching for file changes with StatReloader
2025-05-15 13:55:15,730 INFO Watching for file changes with StatReloader
2025-05-15 13:55:22,427 INFO Request: GET / | User: 
2025-05-15 13:55:22,428 WARNING Not Found: /
2025-05-15 13:55:22,820 INFO Request: GET /favicon.ico | User: 
2025-05-15 13:55:22,821 WARNING Not Found: /favicon.ico
2025-05-15 13:56:16,623 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-05-15 13:56:18,373 INFO Watching for file changes with StatReloader
2025-05-15 13:57:09,837 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-05-15 13:57:11,104 INFO Watching for file changes with StatReloader
2025-05-15 13:57:28,059 INFO Request: GET /products/ | User: 
2025-05-15 13:57:35,300 INFO Request: GET /profile. | User: 
2025-05-15 13:57:35,301 WARNING Not Found: /profile.
2025-05-15 13:57:36,838 INFO Request: GET /profile/ | User: 
2025-05-15 13:57:36,839 WARNING Unauthorized: /profile/
2025-05-15 13:57:45,550 INFO Request: POST /api/token/ | User: 
2025-05-15 13:57:57,927 INFO Request: GET /profile/ | User: root
2025-05-15 13:58:36,245 INFO Request: GET /profile/ | User: root
2025-05-15 13:58:59,457 INFO Request: GET /wishlist/ | User: root
2025-05-15 13:59:06,086 INFO Request: GET /wishlist/buy/ | User: root
2025-05-15 13:59:06,087 WARNING Method Not Allowed: /wishlist/buy/
2025-05-15 13:59:10,290 INFO Request: POST /wishlist/buy/ | User: root
2025-05-15 13:59:10,291 WARNING Bad Request: /wishlist/buy/
2025-05-15 13:59:17,015 INFO Request: GET /wishlist/ | User: root
2025-05-15 13:59:36,790 INFO Request: POST /wishlist/buy/ | User: root
2025-05-15 13:59:36,791 WARNING Bad Request: /wishlist/buy/
2025-05-15 13:59:46,897 ERROR Connection to Redis lost: Retry (0/20) now.
2025-05-15 13:59:49,636 ERROR Connection to Redis lost: Retry (1/20) in 1.00 second.
2025-05-15 13:59:53,327 ERROR Connection to Redis lost: Retry (2/20) in 1.00 second.
2025-05-15 13:59:57,041 ERROR Connection to Redis lost: Retry (3/20) in 1.00 second.
2025-05-15 13:59:58,075 INFO Request: POST /wishlist/buy/ | User: root
2025-05-15 13:59:58,081 WARNING Bad Request: /wishlist/buy/
2025-05-15 14:00:00,749 ERROR Connection to Redis lost: Retry (4/20) in 1.00 second.
2025-05-15 14:00:04,435 ERROR Connection to Redis lost: Retry (5/20) in 1.00 second.
2025-05-15 14:00:08,124 ERROR Connection to Redis lost: Retry (6/20) in 1.00 second.
2025-05-15 14:00:11,816 ERROR Connection to Redis lost: Retry (7/20) in 1.00 second.
2025-05-15 14:00:15,536 ERROR Connection to Redis lost: Retry (8/20) in 1.00 second.
2025-05-15 14:00:19,227 ERROR Connection to Redis lost: Retry (9/20) in 1.00 second.
2025-05-15 14:00:22,930 ERROR Connection to Redis lost: Retry (10/20) in 1.00 second.
2025-05-15 14:00:26,625 ERROR Connection to Redis lost: Retry (11/20) in 1.00 second.
2025-05-15 14:00:30,349 ERROR Connection to Redis lost: Retry (12/20) in 1.00 second.
2025-05-15 14:00:34,051 ERROR Connection to Redis lost: Retry (13/20) in 1.00 second.
2025-05-15 14:00:37,748 ERROR Connection to Redis lost: Retry (14/20) in 1.00 second.
2025-05-15 14:00:41,455 ERROR Connection to Redis lost: Retry (15/20) in 1.00 second.
2025-05-15 14:00:45,159 ERROR Connection to Redis lost: Retry (16/20) in 1.00 second.
2025-05-15 14:00:48,853 ERROR Connection to Redis lost: Retry (17/20) in 1.00 second.
2025-05-15 14:00:52,578 ERROR Connection to Redis lost: Retry (18/20) in 1.00 second.
2025-05-15 14:00:56,295 ERROR Connection to Redis lost: Retry (19/20) in 1.00 second.
2025-05-15 14:01:00,013 CRITICAL 
Retry limit exceeded while trying to reconnect to the Celery redis result store backend. The Celery application must be restarted.

2025-05-15 14:01:00,982 ERROR Internal Server Error: /wishlist/buy/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 357, in connect
    sock = self.retry.call_with_retry(
        lambda: self._connect(), lambda error: self.disconnect(error)
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\retry.py", line 62, in call_with_retry
    return do()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 358, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 698, in _connect
    for res in socket.getaddrinfo(
               ~~~~~~~~~~~~~~~~~~^
        self.host, self.port, self.socket_type, socket.SOCK_STREAM
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "C:\Program Files\Python313\Lib\socket.py", line 975, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\client.py", line 957, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\client.py", line 786, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "pubsub", self.shard_hint
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 1422, in get_connection
    connection.connect()
    ~~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 363, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 11001 connecting to redis:6379. getaddrinfo failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 357, in connect
    sock = self.retry.call_with_retry(
        lambda: self._connect(), lambda error: self.disconnect(error)
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\retry.py", line 62, in call_with_retry
    return do()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 358, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 698, in _connect
    for res in socket.getaddrinfo(
               ~~~~~~~~~~~~~~~~~~^
        self.host, self.port, self.socket_type, socket.SOCK_STREAM
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "C:\Program Files\Python313\Lib\socket.py", line 975, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\app\base.py", line 921, in send_task
    self.backend.on_task_call(P, task_id)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 378, in on_task_call
    self.result_consumer.consume_from(task_id)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ~~~~~~~~~~^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Program Files\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 389, in ensure
    return retry_over_time(
        fun, self.connection_errors, args, {},
        partial(self.on_connection_error, max_retries),
        **retry_policy)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\commands\core.py", line 2009, in mget
    return self.execute_command("MGET", *args, **options)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 1422, in get_connection
    connection.connect()
    ~~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\redis\connection.py", line 363, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 11001 connecting to redis:6379. getaddrinfo failed.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\payment_system_api\views.py", line 151, in payment_products
    with transaction.atomic():
         ~~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\transaction.py", line 307, in __exit__
    connection.set_autocommit(True)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\base\base.py", line 491, in set_autocommit
    self.run_and_clear_commit_hooks()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\base\base.py", line 769, in run_and_clear_commit_hooks
    func()
    ~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\app\task.py", line 601, in apply_async
    return app.send_task(
           ~~~~~~~~~~~~~^
        self.name, args, kwargs, task_id=task_id, producer=producer,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **options
        ^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\celery\app\base.py", line 919, in send_task
    with P.connection._reraise_as_library_errors():
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Program Files\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 11001 connecting to redis:6379. getaddrinfo failed.
2025-05-15 14:01:01,015 INFO Request: POST /wishlist/buy/ | User: root
2025-05-15 14:01:40,056 INFO Request: GET /products/ | User: 
2025-05-15 14:01:46,952 INFO Request: GET /products/5/ | User: 
2025-05-15 14:02:19,567 ERROR Connection to Redis lost: Retry (0/20) now.
2025-05-15 14:02:22,244 ERROR Connection to Redis lost: Retry (1/20) in 1.00 second.
2025-05-15 14:02:25,946 ERROR Connection to Redis lost: Retry (2/20) in 1.00 second.
2025-05-15 14:02:29,655 ERROR Connection to Redis lost: Retry (3/20) in 1.00 second.
2025-05-15 14:02:33,368 ERROR Connection to Redis lost: Retry (4/20) in 1.00 second.
2025-05-15 14:02:37,057 ERROR Connection to Redis lost: Retry (5/20) in 1.00 second.
2025-05-15 14:02:40,755 ERROR Connection to Redis lost: Retry (6/20) in 1.00 second.
2025-05-15 14:02:44,462 ERROR Connection to Redis lost: Retry (7/20) in 1.00 second.
2025-05-15 14:02:48,182 ERROR Connection to Redis lost: Retry (8/20) in 1.00 second.
2025-05-15 14:02:51,890 ERROR Connection to Redis lost: Retry (9/20) in 1.00 second.
2025-05-15 14:02:55,604 ERROR Connection to Redis lost: Retry (10/20) in 1.00 second.
2025-05-15 14:02:59,314 ERROR Connection to Redis lost: Retry (11/20) in 1.00 second.
2025-05-15 14:03:03,009 ERROR Connection to Redis lost: Retry (12/20) in 1.00 second.
2025-05-15 14:03:06,698 ERROR Connection to Redis lost: Retry (13/20) in 1.00 second.
2025-05-15 14:03:10,392 ERROR Connection to Redis lost: Retry (14/20) in 1.00 second.
2025-05-15 14:03:14,092 ERROR Connection to Redis lost: Retry (15/20) in 1.00 second.
2025-05-15 14:03:17,780 ERROR Connection to Redis lost: Retry (16/20) in 1.00 second.
2025-05-15 14:03:21,476 ERROR Connection to Redis lost: Retry (17/20) in 1.00 second.
2025-05-15 14:03:21,940 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-05-15 14:03:23,507 INFO Watching for file changes with StatReloader
2025-05-15 14:04:04,143 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-05-15 14:04:06,349 INFO Watching for file changes with StatReloader
2025-05-15 14:04:19,994 INFO Watching for file changes with StatReloader
2025-05-15 14:04:26,195 INFO Request: POST /products/5/buy/ | User: root
2025-05-15 14:05:02,719 INFO Request: POST /products/5/take/ | User: 
2025-05-15 14:05:02,720 WARNING Not Found: /products/5/take/
2025-05-15 14:06:04,694 INFO Request: POST /products/5/add/ | User: root
2025-05-15 14:06:17,218 INFO Request: GET /wishlist/ | User: root
2025-05-15 14:06:25,807 INFO Request: POST /wishlist/buy/ | User: root
2025-05-15 14:06:46,105 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-05-15 14:06:48,606 INFO Watching for file changes with StatReloader
2025-05-15 14:07:03,553 INFO Watching for file changes with StatReloader
2025-05-15 14:07:53,023 INFO Request: POST /products/5/buy/ | User: root
2025-05-15 14:08:24,003 INFO Request: GET /profile/ | User: root
2025-05-15 14:08:34,135 INFO Request: GET /notifications/ | User: root
2025-05-15 14:08:38,374 INFO Request: GET /notifications/82/ | User: root
2025-05-15 14:08:42,786 INFO Request: GET /notifications/ | User: root
2025-05-15 21:23:56,167 INFO Watching for file changes with StatReloader
2025-05-15 21:24:12,376 INFO Request: POST /api/token/ | User: 
2025-05-15 21:24:33,417 INFO Request: GET /profile/ | User: root
2025-05-15 21:27:27,210 INFO Watching for file changes with StatReloader
2025-05-15 21:27:34,676 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-05-15 21:27:40,080 INFO Watching for file changes with StatReloader
2025-05-16 09:58:05,393 INFO Watching for file changes with StatReloader
2025-05-16 09:58:11,526 INFO Request: GET / | User: 
2025-05-16 09:58:11,526 WARNING Not Found: /
2025-05-16 15:21:38,936 INFO Watching for file changes with StatReloader
2025-05-16 15:21:42,656 INFO Request: GET / | User: 
2025-05-16 15:21:42,657 WARNING Not Found: /
2025-05-16 15:21:45,073 INFO Request: GET /swagger/ | User: 
2025-05-16 15:21:45,872 WARNING view's NotificationView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 104, in get_queryset
    return Notification.objects.filter(user=self.request.user).select_related('user').order_by("is_read", '-created_at')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,236 WARNING view's StoreView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\seller_store_api\views.py", line 85, in get_queryset
    return Store.objects.filter(author=self.request.user)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,278 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,324 WARNING view's DeliveryView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 263, in get_queryset
    return Delivery.objects.filter(user=self.request.user).order_by('delivery_date').select_related('user')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,334 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,380 WARNING view's DeliveryView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 263, in get_queryset
    return Delivery.objects.filter(user=self.request.user).order_by('delivery_date').select_related('user')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,390 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,402 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,413 WARNING view's NotificationView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 104, in get_queryset
    return Notification.objects.filter(user=self.request.user).select_related('user').order_by("is_read", '-created_at')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,424 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,435 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE82211590>.
2025-05-16 15:21:46,602 INFO Request: GET /swagger/ | User: 
2025-05-16 15:22:06,923 INFO Request: GET /accounts/login/ | User: 
2025-05-16 15:22:06,923 WARNING Not Found: /accounts/login/
2025-05-16 15:22:34,926 INFO Request: GET /accounts/login/ | User: 
2025-05-16 15:22:34,927 WARNING Not Found: /accounts/login/
2025-05-16 15:22:45,045 INFO Request: GET /redoc/ | User: 
2025-05-16 15:22:45,309 WARNING view's NotificationView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 104, in get_queryset
    return Notification.objects.filter(user=self.request.user).select_related('user').order_by("is_read", '-created_at')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,322 WARNING view's StoreView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\seller_store_api\views.py", line 85, in get_queryset
    return Store.objects.filter(author=self.request.user)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,331 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,340 WARNING view's DeliveryView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 263, in get_queryset
    return Delivery.objects.filter(user=self.request.user).order_by('delivery_date').select_related('user')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,348 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,357 WARNING view's DeliveryView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 263, in get_queryset
    return Delivery.objects.filter(user=self.request.user).order_by('delivery_date').select_related('user')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,365 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,374 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,382 WARNING view's NotificationView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 104, in get_queryset
    return Notification.objects.filter(user=self.request.user).select_related('user').order_by("is_read", '-created_at')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,392 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,401 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000002AE81FF5D00>.
2025-05-16 15:22:45,537 INFO Request: GET /redoc/ | User: 
2025-05-16 21:57:53,054 INFO Watching for file changes with StatReloader
2025-05-16 21:57:57,544 INFO Request: GET / | User: 
2025-05-16 21:57:57,544 WARNING Not Found: /
2025-05-16 21:58:01,708 INFO Request: GET /swagger/ | User: 
2025-05-16 21:58:01,992 WARNING view's NotificationView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 104, in get_queryset
    return Notification.objects.filter(user=self.request.user).select_related('user').order_by("is_read", '-created_at')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,184 WARNING view's StoreView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\seller_store_api\views.py", line 85, in get_queryset
    return Store.objects.filter(author=self.request.user)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,272 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,319 WARNING view's DeliveryView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 263, in get_queryset
    return Delivery.objects.filter(user=self.request.user).order_by('delivery_date').select_related('user')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,325 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,367 WARNING view's DeliveryView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 263, in get_queryset
    return Delivery.objects.filter(user=self.request.user).order_by('delivery_date').select_related('user')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,371 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,374 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,377 WARNING view's NotificationView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 104, in get_queryset
    return Notification.objects.filter(user=self.request.user).select_related('user').order_by("is_read", '-created_at')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,380 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,383 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E865C1950>.
2025-05-16 21:58:02,456 INFO Request: GET /swagger/ | User: 
2025-05-16 21:58:37,784 INFO Request: POST /api/token/ | User: 
2025-05-16 21:58:39,872 INFO Request: POST /api/token/ | User: 
2025-05-16 21:59:20,971 INFO Request: GET /profile/ | User: 
2025-05-16 21:59:20,972 WARNING Unauthorized: /profile/
2025-05-16 21:59:35,860 INFO Request: POST /api/token/ | User: 
2025-05-16 21:59:42,841 INFO Request: POST /api/token/ | User: 
2025-05-16 21:59:55,058 INFO Request: GET /swagger/ | User: 
2025-05-16 21:59:55,281 WARNING view's NotificationView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 104, in get_queryset
    return Notification.objects.filter(user=self.request.user).select_related('user').order_by("is_read", '-created_at')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,285 WARNING view's StoreView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\seller_store_api\views.py", line 85, in get_queryset
    return Store.objects.filter(author=self.request.user)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,287 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,290 WARNING view's DeliveryView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 263, in get_queryset
    return Delivery.objects.filter(user=self.request.user).order_by('delivery_date').select_related('user')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,292 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,297 WARNING view's DeliveryView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 263, in get_queryset
    return Delivery.objects.filter(user=self.request.user).order_by('delivery_date').select_related('user')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,299 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,302 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,304 WARNING view's NotificationView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 104, in get_queryset
    return Notification.objects.filter(user=self.request.user).select_related('user').order_by("is_read", '-created_at')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,308 WARNING view's WishListView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\payment_system_api\views.py", line 46, in get_queryset
    return WishlistItem.objects.filter(user=self.request.user).select_related('product__product', 'user').prefetch_related('product__options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,312 WARNING view's ProductOfSellerView raised exception during schema generation; use `getattr(self, 'swagger_fake_view', False)` to detect and short-circuit this
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\models.py", line 438, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\drf_yasg\inspectors\base.py", line 42, in call_view_method
    return view_method()
  File "D:\python\marketplace_api\product_control_api\views.py", line 79, in get_queryset
    return ProductVariant.objects.filter(product__store__author=self.request.user).select_related('product').prefetch_related('options')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\related_lookups.py", line 156, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x0000029E8637FC50>.
2025-05-16 21:59:55,348 INFO Request: GET /swagger/ | User: 
2025-05-16 22:00:04,161 INFO Request: POST /categories/ | User: 
2025-05-16 22:00:04,162 WARNING Unauthorized: /categories/
2025-05-16 22:00:27,279 INFO Request: POST /delivery/ | User: root
2025-05-16 22:00:27,279 WARNING Bad Request: /delivery/
2025-05-16 22:00:35,683 INFO Request: GET /delivery/ | User: root
2025-05-16 22:01:12,114 INFO Request: GET /profile/ | User: root
2025-05-16 22:02:50,570 INFO Request: GET /products/ | User: 
2025-05-16 22:03:16,162 INFO Request: PATCH /products/2/ | User: 
2025-05-16 22:03:16,162 WARNING Bad Request: /products/2/
2025-05-22 22:01:43,493 INFO Watching for file changes with StatReloader
2025-05-22 22:01:53,197 INFO Request: POST /api/token/ | User: 
2025-05-22 22:01:58,546 INFO Request: POST /api/token/ | User: 
2025-05-22 22:02:18,354 INFO Request: GET /users/ | User: testseller
2025-05-22 22:02:18,354 WARNING Forbidden: /users/
2025-05-22 22:02:43,101 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-22 22:02:44,935 INFO Watching for file changes with StatReloader
2025-05-22 22:02:48,281 INFO Request: GET /users/ | User: testseller
2025-05-22 22:02:58,162 INFO Request: GET /users/ | User: testseller
2025-05-22 22:02:59,892 INFO Request: GET /users/ | User: testseller
2025-05-22 22:03:14,246 INFO Request: GET /users/ | User: testseller
2025-05-22 22:03:18,260 INFO Request: GET /users/ | User: testseller
2025-05-22 22:04:19,099 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-22 22:04:22,012 INFO Watching for file changes with StatReloader
2025-05-22 22:04:47,831 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-22 22:04:49,169 INFO Watching for file changes with StatReloader
2025-05-22 22:04:53,211 INFO Request: GET /users/ | User: testseller
2025-05-22 22:04:58,616 INFO Request: GET /users/ | User: testseller
2025-05-22 22:06:52,877 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-22 22:06:54,794 INFO Watching for file changes with StatReloader
2025-05-22 22:07:14,804 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-22 22:07:16,842 INFO Watching for file changes with StatReloader
2025-05-22 22:07:20,807 ERROR Internal Server Error: /users/
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django_filters\rest_framework\backends.py", line 72, in filter_queryset
    return filterset.qs
           ^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django_filters\filterset.py", line 250, in qs
    qs = self.filter_queryset(qs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django_filters\filterset.py", line 233, in filter_queryset
    queryset = self.filters[name].filter(queryset, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django_filters\filters.py", line 167, in filter
    qs = self.get_method(qs)(**{lookup: value})
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: balance, coupon, date_joined, delivery, email, first_name, groups, history, id, is_active, is_seller, is_staff, is_superuser, last_login, last_name, logentry, notification, password, profile, review, store, user_permissions, username, wishlist, wishlistitem
2025-05-22 22:07:20,819 INFO Request: GET /users/ | User: testseller
2025-05-22 22:07:21,209 ERROR Internal Server Error: /users/
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django_filters\rest_framework\backends.py", line 72, in filter_queryset
    return filterset.qs
           ^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django_filters\filterset.py", line 250, in qs
    qs = self.filter_queryset(qs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django_filters\filterset.py", line 233, in filter_queryset
    queryset = self.filters[name].filter(queryset, value)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django_filters\filters.py", line 167, in filter
    qs = self.get_method(qs)(**{lookup: value})
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'product' into field. Choices are: balance, coupon, date_joined, delivery, email, first_name, groups, history, id, is_active, is_seller, is_staff, is_superuser, last_login, last_name, logentry, notification, password, profile, review, store, user_permissions, username, wishlist, wishlistitem
2025-05-22 22:07:21,214 INFO Request: GET /users/ | User: testseller
2025-05-22 22:07:37,840 INFO D:\python\marketplace_api\usercontrol_api\filters.py changed, reloading.
2025-05-22 22:07:39,528 INFO Watching for file changes with StatReloader
2025-05-22 22:07:42,216 INFO Request: GET /users/ | User: testseller
2025-05-22 22:07:46,976 INFO Request: GET /users/ | User: testseller
2025-05-22 22:07:49,450 INFO Request: GET /users/ | User: testseller
2025-05-22 22:08:51,694 INFO D:\python\marketplace_api\usercontrol_api\filters.py changed, reloading.
2025-05-22 22:08:53,795 INFO Watching for file changes with StatReloader
2025-05-22 22:08:56,014 INFO Request: GET /users/ | User: testseller
2025-05-22 22:08:58,290 INFO Request: GET /users/ | User: testseller
2025-05-22 22:08:59,915 INFO Request: GET /users/ | User: testseller
2025-05-22 22:09:02,494 INFO Request: GET /users/ | User: testseller
2025-05-22 22:11:44,270 INFO Watching for file changes with StatReloader
2025-05-22 22:11:48,088 INFO Request: GET /users/ | User: testseller
2025-05-22 22:13:02,798 INFO Request: GET /users/ | User: testseller
2025-05-22 22:13:04,886 INFO Request: GET /users/ | User: testseller
2025-05-22 22:13:07,563 INFO Request: GET /users/ | User: testseller
2025-05-22 22:13:17,323 INFO Request: GET /users/ | User: testseller
2025-05-22 22:13:24,795 INFO Request: GET /users/ | User: testseller
2025-05-22 22:13:28,075 INFO Request: GET /users/ | User: testseller
2025-05-22 22:21:02,206 INFO Request: GET /users/ | User: 
2025-05-22 22:21:02,207 WARNING Unauthorized: /users/
2025-05-22 22:21:11,601 INFO Request: POST /api/token/ | User: 
2025-05-22 22:21:21,314 INFO Request: GET /delivery/ | User: root
2025-05-22 22:21:36,021 INFO Request: GET /delivery/ | User: root
2025-05-22 22:21:41,971 INFO Request: GET /users/ | User: 
2025-05-22 22:21:41,971 WARNING Unauthorized: /users/
2025-05-22 22:21:53,629 INFO Request: POST /api/token/ | User: 
2025-05-22 22:21:53,630 WARNING Unauthorized: /api/token/
2025-05-22 22:21:59,235 INFO Request: GET /users/ | User: 
2025-05-22 22:21:59,236 WARNING Unauthorized: /users/
2025-05-22 22:22:08,284 INFO Request: POST /api/token/ | User: 
2025-05-22 22:22:12,199 INFO Request: GET /delivery/ | User: x1ryrg
2025-05-23 10:17:19,539 INFO Watching for file changes with StatReloader
2025-05-23 10:21:08,500 INFO Request: GET /users/ | User: 
2025-05-23 10:21:08,500 WARNING Unauthorized: /users/
2025-05-23 10:21:17,084 INFO Request: POST /api/token/ | User: 
2025-05-23 10:21:20,979 INFO Request: GET /delivery/ | User: root
2025-05-23 10:23:24,782 INFO Request: GET /users/ | User: 
2025-05-23 10:23:24,783 WARNING Unauthorized: /users/
2025-05-23 10:23:31,798 INFO Request: POST /api/token/ | User: 
2025-05-23 10:23:35,820 INFO Request: GET /delivery/ | User: root
2025-05-23 10:26:57,638 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-23 10:26:59,217 INFO Watching for file changes with StatReloader
2025-05-23 10:27:48,872 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-23 10:27:50,262 INFO Watching for file changes with StatReloader
2025-05-23 10:28:16,131 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-23 10:28:17,595 INFO Watching for file changes with StatReloader
2025-05-23 10:28:22,237 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-23 10:28:23,984 INFO Watching for file changes with StatReloader
2025-05-23 10:28:29,085 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-23 10:28:30,907 INFO Watching for file changes with StatReloader
2025-05-23 10:28:38,086 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-23 10:28:39,590 INFO Watching for file changes with StatReloader
2025-05-23 10:28:49,109 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-05-23 10:28:50,588 INFO Watching for file changes with StatReloader
2025-05-23 10:29:08,060 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-05-23 10:29:09,409 INFO Watching for file changes with StatReloader
2025-05-23 10:29:17,210 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-05-23 10:29:18,697 INFO Watching for file changes with StatReloader
2025-05-23 10:29:33,210 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-05-23 10:29:34,487 INFO Watching for file changes with StatReloader
2025-05-23 10:29:41,101 INFO Request: POST /api/token/ | User: 
2025-05-23 10:29:55,776 INFO Request: GET /users/ | User: 
2025-05-23 10:29:55,777 WARNING Unauthorized: /users/
2025-05-23 10:30:03,635 INFO Request: GET /users | User: 
2025-05-23 10:30:03,741 INFO Request: GET /users/ | User: x1ryrg
2025-05-23 10:30:22,183 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-05-23 10:30:23,549 INFO Watching for file changes with StatReloader
2025-05-23 10:30:27,360 INFO Request: GET /user/link_telegram/ | User: x1ryrg
2025-05-23 10:30:27,360 WARNING Method Not Allowed: /user/link_telegram/
2025-05-23 10:30:38,745 INFO Request: PATCH /user/link_telegram/ | User: x1ryrg
2025-05-23 10:30:59,905 INFO Request: PATCH /user/link_telegram/ | User: x1ryrg
2025-05-23 10:31:14,647 INFO Request: GET /user/profile/ | User: 
2025-05-23 10:31:14,648 WARNING Not Found: /user/profile/
2025-05-23 10:31:23,076 INFO Request: GET /profile/ | User: x1ryrg
2025-05-23 10:54:44,327 INFO Watching for file changes with StatReloader
2025-05-23 10:55:35,910 INFO Request: GET /users/ | User: 
2025-05-23 10:55:35,911 WARNING Unauthorized: /users/
2025-05-23 10:55:56,918 INFO Request: GET /users/ | User: 
2025-05-23 10:55:56,918 WARNING Unauthorized: /users/
2025-05-23 10:56:01,881 INFO Request: POST /api/token/ | User: 
2025-05-23 10:56:01,889 INFO Request: PATCH /user/link_telegram// | User: 
2025-05-23 10:56:01,889 WARNING Not Found: /user/link_telegram//
2025-05-23 10:56:55,934 INFO Request: GET /users/ | User: 
2025-05-23 10:56:55,934 WARNING Unauthorized: /users/
2025-05-23 10:57:00,581 INFO Request: POST /api/token/ | User: 
2025-05-23 10:57:00,595 INFO Request: PATCH /user/link_telegram// | User: 
2025-05-23 10:57:00,595 WARNING Not Found: /user/link_telegram//
2025-05-23 10:58:39,109 INFO Request: GET /users/ | User: 
2025-05-23 10:58:39,110 WARNING Unauthorized: /users/
2025-05-23 10:58:43,278 INFO Request: POST /api/token/ | User: 
2025-05-23 10:58:43,290 INFO Request: PATCH /user/link_telegram// | User: 
2025-05-23 10:58:43,290 WARNING Not Found: /user/link_telegram//
2025-05-23 10:59:48,635 INFO Request: GET /profile/ | User: x1ryrg
2025-05-23 11:00:04,081 INFO Request: GET /users/ | User: x1ryrg
2025-05-23 11:00:10,545 INFO Request: GET /users/ | User: x1ryrg
2025-05-23 11:01:38,565 INFO Request: GET /users/ | User: 
2025-05-23 11:01:38,565 WARNING Unauthorized: /users/
2025-05-23 11:01:42,998 INFO Request: POST /api/token/ | User: 
2025-05-23 11:01:43,046 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 11:01:52,992 INFO Request: GET /delivery/ | User: root
2025-05-23 11:02:08,679 INFO Request: GET /users/ | User: 
2025-05-23 11:02:08,679 WARNING Unauthorized: /users/
2025-05-23 11:02:15,615 INFO Request: POST /api/token/ | User: 
2025-05-23 11:02:15,615 WARNING Unauthorized: /api/token/
2025-05-23 11:03:11,508 INFO Request: GET /users/ | User: 
2025-05-23 11:03:11,509 WARNING Unauthorized: /users/
2025-05-23 11:03:15,862 INFO Request: POST /api/token/ | User: 
2025-05-23 11:03:16,021 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 11:03:19,988 INFO Request: GET /delivery/ | User: root
2025-05-23 11:06:46,980 INFO Request: GET /delivery/ | User: root
2025-05-23 11:10:22,328 INFO Request: GET /users/ | User: 
2025-05-23 11:10:22,328 WARNING Unauthorized: /users/
2025-05-23 11:10:27,620 INFO Request: POST /api/token/ | User: 
2025-05-23 11:10:27,675 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 11:24:07,847 INFO Request: POST /api/token/ | User: 
2025-05-23 11:24:07,901 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 11:24:29,689 INFO Request: GET /delivery/ | User: root
2025-05-23 11:25:31,627 INFO Request: POST /api/token/ | User: 
2025-05-23 11:25:31,684 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 11:25:44,239 INFO Request: GET /delivery/ | User: root
2025-05-23 11:29:35,997 INFO Request: POST /api/token/ | User: 
2025-05-23 11:29:36,053 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 11:29:41,448 INFO Request: GET /delivery/ | User: root
2025-05-23 11:46:20,478 INFO Request: POST /api/token/ | User: 
2025-05-23 11:46:20,531 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 11:46:26,971 INFO Request: GET /delivery/ | User: root
2025-05-23 11:48:41,581 INFO Request: POST /api/token/ | User: 
2025-05-23 11:48:41,582 WARNING Unauthorized: /api/token/
2025-05-23 11:48:52,416 INFO Request: POST /api/token/ | User: 
2025-05-23 11:48:52,468 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 11:49:00,239 INFO Request: GET /delivery/ | User: root
2025-05-23 11:56:59,219 INFO Request: GET /delivery/ | User: root
2025-05-23 11:57:12,139 INFO Request: GET /delivery/ | User: root
2025-05-23 12:00:20,938 INFO Request: GET /delivery/ | User: root
2025-05-23 12:00:39,763 INFO Request: POST /api/token/ | User: 
2025-05-23 12:00:39,923 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 12:00:53,937 INFO Request: GET /delivery/ | User: root
2025-05-23 12:02:47,230 INFO Watching for file changes with StatReloader
2025-05-23 12:02:51,721 INFO Request: GET /delivery/ | User: root
2025-05-23 16:23:06,538 INFO Watching for file changes with StatReloader
2025-05-23 16:23:25,655 INFO Request: GET /delivery/ | User: 
2025-05-23 16:23:25,656 WARNING Unauthorized: /delivery/
2025-05-23 16:23:25,749 INFO Request: POST /api/token/refresh/ | User: 
2025-05-23 16:23:25,884 INFO Request: GET /delivery/ | User: root
2025-05-23 16:25:12,106 INFO Request: GET /delivery/ | User: root
2025-05-23 16:26:25,379 INFO Request: GET /delivery/ | User: root
2025-05-23 16:27:24,925 INFO Request: GET /delivery/ | User: root
2025-05-23 16:33:46,649 INFO Request: GET /delivery/ | User: root
2025-05-23 16:34:05,483 INFO Request: POST /api/token/ | User: 
2025-05-23 16:34:05,604 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 16:34:08,646 INFO Request: GET /delivery/ | User: root
2025-05-23 16:48:59,645 INFO Request: GET /delivery/ | User: root
2025-05-23 16:50:01,335 INFO Request: POST /api/token/ | User: 
2025-05-23 16:58:38,829 INFO Request: POST /api/token/ | User: 
2025-05-23 16:59:28,082 INFO Request: POST /api/token/ | User: 
2025-05-23 17:01:56,208 INFO Request: POST /api/token/ | User: 
2025-05-23 17:01:56,449 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 17:02:35,320 INFO Request: POST /api/token/ | User: 
2025-05-23 17:02:35,438 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 17:02:38,022 INFO Request: GET /delivery/ | User: root
2025-05-23 17:02:52,468 INFO Request: GET /delivery/ | User: root
2025-05-23 17:02:59,820 INFO Request: GET /delivery/ | User: root
2025-05-23 17:03:06,509 INFO Request: GET /delivery/ | User: root
2025-05-23 17:03:49,882 INFO Request: POST /api/token/ | User: 
2025-05-23 17:03:50,788 ERROR Internal Server Error: /user/link_telegram/
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "usercontrol_api_user_tg_id_key"
DETAIL:  Ключ "(tg_id)=(1352441813)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 62, in patch
    user.save()
    ~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\base.py", line 1130, in _save_table
    updated = self._do_update(
        base_qs, using, pk_val, values, update_fields, forced_update
    )
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\base.py", line 1195, in _do_update
    return filtered._update(values) > 0
           ~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1278, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\compiler.py", line 2003, in execute_sql
    cursor = super().execute_sql(result_type)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "usercontrol_api_user_tg_id_key"
DETAIL:  Ключ "(tg_id)=(1352441813)" уже существует.

2025-05-23 17:03:50,829 INFO Request: PATCH /user/link_telegram/ | User: x1ryrg
2025-05-23 17:04:20,129 INFO Request: POST /api/token/ | User: 
2025-05-23 17:04:20,130 WARNING Unauthorized: /api/token/
2025-05-23 17:04:30,564 INFO Request: POST /api/token/ | User: 
2025-05-23 17:04:30,685 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-23 17:06:12,610 INFO Request: POST /api/token/ | User: 
2025-05-23 17:06:12,851 ERROR Internal Server Error: /user/link_telegram/
Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "usercontrol_api_user_tg_id_key"
DETAIL:  Ключ "(tg_id)=(1352441813)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 62, in patch
    user.save()
    ~~~~~~~~~^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\base.py", line 1130, in _save_table
    updated = self._do_update(
        base_qs, using, pk_val, values, update_fields, forced_update
    )
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\base.py", line 1195, in _do_update
    return filtered._update(values) > 0
           ~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\query.py", line 1278, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\compiler.py", line 2003, in execute_sql
    cursor = super().execute_sql(result_type)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Данил\AppData\Roaming\Python\Python313\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "usercontrol_api_user_tg_id_key"
DETAIL:  Ключ "(tg_id)=(1352441813)" уже существует.

2025-05-23 17:06:12,870 INFO Request: PATCH /user/link_telegram/ | User: x1ryrg
2025-05-23 17:07:07,769 INFO Request: POST /api/token/ | User: 
2025-05-23 17:07:07,881 INFO Request: PATCH /user/link_telegram/ | User: x1ryrg
2025-05-24 10:54:29,008 INFO Watching for file changes with StatReloader
2025-05-24 10:54:52,206 INFO Request: POST /api/token/ | User: 
2025-05-24 10:54:52,303 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-24 10:54:54,882 INFO Request: GET /delivery/ | User: root
2025-05-24 10:55:58,733 INFO Request: GET /delivery/ | User: root
2025-05-24 10:57:26,120 INFO Request: GET /delivery/ | User: root
2025-05-24 11:00:15,071 INFO Request: POST /api/token/ | User: 
2025-05-24 11:00:15,193 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-24 11:00:20,279 INFO Request: GET /delivery/ | User: root
2025-05-24 11:05:58,537 INFO Request: POST /api/token/ | User: 
2025-05-24 11:05:58,652 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-24 11:06:00,470 INFO Request: GET /delivery/ | User: root
2025-05-24 11:10:18,996 INFO Request: POST /api/token/ | User: 
2025-05-24 11:10:19,119 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-24 11:10:25,371 INFO Request: GET /delivery/ | User: root
2025-05-24 11:11:23,608 INFO Request: GET /delivery/ | User: root
2025-05-24 11:17:29,378 INFO Request: GET /delivery/ | User: root
2025-05-24 11:22:41,102 INFO Request: GET /delivery/ | User: root
2025-05-24 11:52:10,500 INFO Watching for file changes with StatReloader
2025-05-24 11:52:31,283 INFO Request: POST /api/token/ | User: 
2025-05-24 11:52:41,629 INFO Request: GET /profile/ | User: root
2025-05-24 11:56:34,135 INFO Watching for file changes with StatReloader
2025-05-24 12:06:10,252 INFO Request: GET /delivery/ | User: root
2025-05-24 15:36:12,265 INFO Watching for file changes with StatReloader
2025-05-24 15:36:25,090 INFO Request: POST /api/token/ | User: 
2025-05-24 15:36:38,318 INFO Request: GET /history/ | User: root
2025-05-24 15:47:00,286 INFO Request: POST /api/token/ | User: 
2025-05-24 15:47:00,538 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-24 15:47:05,375 INFO Request: GET /history/ | User: root
2025-05-24 15:59:22,211 INFO Request: GET /history/ | User: root
2025-05-24 17:06:42,284 INFO Watching for file changes with StatReloader
2025-05-24 17:07:31,480 INFO Request: POST /api/token/ | User: 
2025-05-24 17:07:31,637 INFO Request: PATCH /user/link_telegram/ | User: x1ryrg
2025-05-24 17:07:36,501 INFO Request: GET /history/ | User: x1ryrg
2025-05-24 17:07:41,508 INFO Request: GET /delivery/ | User: x1ryrg
2025-05-24 17:09:34,651 INFO Request: GET /history/ | User: x1ryrg
2025-05-24 17:10:12,774 INFO Request: POST /api/token/ | User: 
2025-05-24 17:10:18,640 INFO Request: GET /delivery/ | User: x1ryrg
2025-05-24 17:10:31,309 INFO Request: GET /delivery/ | User: x1ryrg
2025-05-24 17:11:01,213 INFO Request: GET /profile/ | User: root
2025-05-24 17:14:02,049 INFO Request: POST /api/token/ | User: 
2025-05-24 17:14:02,161 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-24 17:21:33,595 INFO Request: POST /api/token/ | User: 
2025-05-24 17:21:33,853 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-24 17:23:56,713 INFO Request: GET /delivery/ | User: root
2025-05-24 17:24:00,456 INFO Request: GET /delivery/ | User: root
2025-05-24 17:24:02,371 INFO Request: GET /history/ | User: root
2025-05-24 17:24:07,991 INFO Request: GET /history/ | User: root
2025-05-24 17:24:28,027 INFO Request: POST /api/token/ | User: 
2025-05-24 17:24:28,164 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-24 17:24:29,654 INFO Request: GET /delivery/ | User: root
2025-05-24 17:24:31,315 INFO Request: GET /history/ | User: root
2025-05-26 18:06:09,891 INFO Watching for file changes with StatReloader
2025-05-26 18:08:03,961 INFO Request: POST /api/token/ | User: 
2025-05-26 18:08:04,279 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 18:08:17,978 INFO Request: GET /delivery/ | User: root
2025-05-26 18:08:20,216 INFO Request: GET /history/ | User: root
2025-05-26 18:13:30,410 INFO Request: GET /history/ | User: root
2025-05-26 18:14:10,744 INFO Request: GET /delivery/ | User: root
2025-05-26 18:14:20,071 INFO Request: GET /delivery/ | User: root
2025-05-26 18:16:04,165 INFO Request: POST /api/token/ | User: 
2025-05-26 18:16:04,300 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 18:16:46,409 INFO Request: POST /api/token/ | User: 
2025-05-26 18:16:46,673 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 18:16:50,127 INFO Request: GET /history/ | User: root
2025-05-26 18:22:52,543 INFO Request: POST /api/token/ | User: 
2025-05-26 18:22:52,684 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 18:25:03,584 INFO Request: GET /history/ | User: root
2025-05-26 18:25:13,260 INFO Request: POST /api/token/ | User: 
2025-05-26 18:25:13,372 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 18:25:14,967 INFO Request: GET /delivery/ | User: root
2025-05-26 19:23:21,428 INFO Watching for file changes with StatReloader
2025-05-26 19:27:09,552 INFO Request: POST /api/token/ | User: 
2025-05-26 19:27:09,704 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 19:27:11,967 INFO Request: GET /history/ | User: root
2025-05-26 19:35:55,206 INFO Request: GET /delivery/ | User: root
2025-05-26 19:35:55,670 INFO Request: POST /api/token/refresh/ | User: 
2025-05-26 19:35:55,874 INFO Request: GET /delivery/ | User: root
2025-05-26 19:35:59,220 INFO Request: GET /delivery/ | User: root
2025-05-26 19:36:03,387 INFO Request: GET /history/ | User: root
2025-05-26 19:36:15,219 INFO Request: POST /api/token/ | User: 
2025-05-26 19:36:15,358 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 19:36:25,723 INFO Request: POST /api/token/ | User: 
2025-05-26 19:36:25,995 INFO Request: PATCH /user/link_telegram/ | User: x1ryrg
2025-05-26 19:36:27,423 INFO Request: GET /delivery/ | User: x1ryrg
2025-05-26 19:36:27,828 INFO Request: POST /api/token/refresh/ | User: 
2025-05-26 19:36:27,980 INFO Request: GET /delivery/ | User: x1ryrg
2025-05-26 19:36:28,945 INFO Request: GET /history/ | User: x1ryrg
2025-05-26 19:36:32,519 INFO Request: GET /delivery/ | User: x1ryrg
2025-05-26 19:36:42,195 INFO Request: GET /history/ | User: x1ryrg
2025-05-26 19:57:48,640 INFO Request: GET /delivery/ | User: x1ryrg
2025-05-26 20:06:41,027 INFO Request: GET /history/ | User: x1ryrg
2025-05-26 20:06:49,580 INFO Request: POST /api/token/ | User: 
2025-05-26 20:06:49,676 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 20:06:51,533 INFO Request: GET /history/ | User: root
2025-05-26 20:06:51,727 INFO Request: POST /api/token/refresh/ | User: 
2025-05-26 20:06:51,888 INFO Request: GET /history/ | User: root
2025-05-26 20:08:14,037 INFO Request: GET /history/ | User: root
2025-05-26 20:08:35,795 INFO Request: GET /history/ | User: root
2025-05-26 20:08:51,362 INFO Request: GET /delivery/ | User: root
2025-05-26 20:18:27,167 INFO Request: GET /delivery/ | User: root
2025-05-26 20:18:34,183 INFO Request: GET /history/ | User: root
2025-05-26 20:43:02,625 INFO Request: GET /history/ | User: root
2025-05-26 20:43:08,772 INFO Request: GET /delivery/ | User: root
2025-05-26 20:49:41,538 INFO Request: GET /delivery/ | User: root
2025-05-26 20:53:00,849 INFO Request: POST /api/token/ | User: 
2025-05-26 20:53:00,973 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 20:54:30,255 INFO Request: POST /api/token/ | User: 
2025-05-26 20:54:30,396 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 20:54:40,200 INFO Request: POST /api/token/ | User: 
2025-05-26 20:54:40,330 INFO Request: PATCH /user/link_telegram/ | User: root
2025-05-26 20:54:42,570 INFO Request: GET /delivery/ | User: root
2025-05-26 20:54:42,784 INFO Request: POST /api/token/refresh/ | User: 
2025-05-26 20:54:42,994 INFO Request: GET /delivery/ | User: root
2025-05-26 20:54:43,420 INFO Request: GET /history/ | User: root
2025-06-02 17:26:08,646 INFO Watching for file changes with StatReloader
2025-06-02 17:34:26,045 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-06-02 17:34:26,973 INFO Watching for file changes with StatReloader
2025-06-02 17:35:15,243 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-06-02 17:35:16,386 INFO Watching for file changes with StatReloader
2025-06-02 17:41:15,280 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-06-02 17:41:16,242 INFO Watching for file changes with StatReloader
2025-06-02 17:41:22,546 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-06-02 17:41:23,366 INFO Watching for file changes with StatReloader
2025-06-02 17:41:43,044 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-06-02 17:41:44,380 INFO Watching for file changes with StatReloader
2025-06-02 17:46:01,520 INFO Watching for file changes with StatReloader
2025-06-02 17:48:06,136 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-06-02 17:48:07,019 INFO Watching for file changes with StatReloader
