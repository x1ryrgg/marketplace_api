2025-04-21 21:03:08,957 INFO Watching for file changes with StatReloader
2025-04-23 10:21:11,757 INFO Watching for file changes with StatReloader
2025-04-23 10:21:21,770 INFO Request: POST /api/token/ | User: 
2025-04-23 10:21:35,890 INFO Request: GET /profile/ | User: root
2025-04-23 10:22:44,405 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-23 10:22:46,151 INFO Watching for file changes with StatReloader
2025-04-23 10:23:39,079 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-23 10:23:40,695 INFO Watching for file changes with StatReloader
2025-04-23 10:23:46,501 INFO Request: GET /profile/ | User: root
2025-04-23 10:47:13,569 INFO Watching for file changes with StatReloader
2025-04-23 10:47:22,701 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:47:24,847 INFO Watching for file changes with StatReloader
2025-04-23 10:47:28,462 INFO Request: POST /api/token/ | User: 
2025-04-23 10:47:42,069 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 57, in <lambda>
    path('metrics/', lambda request: HttpResponse(
                                     ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:47:42,089 INFO Request: GET /metrics/ | User: 
2025-04-23 10:47:51,680 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:47:53,889 INFO Watching for file changes with StatReloader
2025-04-23 10:47:56,834 ERROR Internal Server Error: /metrics
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 57, in <lambda>
    path('metrics', lambda request: HttpResponse(
                                    ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:47:56,838 INFO Request: GET /metrics | User: 
2025-04-23 10:48:24,505 INFO Watching for file changes with StatReloader
2025-04-23 10:48:27,820 INFO Request: GET / | User: root
2025-04-23 10:48:27,820 WARNING Not Found: /
2025-04-23 10:48:28,183 INFO Request: GET /favicon.ico | User: root
2025-04-23 10:48:28,183 WARNING Not Found: /favicon.ico
2025-04-23 10:48:37,082 INFO Request: GET /metrics/ | User: root
2025-04-23 10:48:37,082 WARNING Not Found: /metrics/
2025-04-23 10:48:39,880 ERROR Internal Server Error: /metrics
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 57, in <lambda>
    path('metrics', lambda request: HttpResponse(
                                    ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:48:39,892 INFO Request: GET /metrics | User: root
2025-04-23 10:48:59,710 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:49:01,667 INFO Watching for file changes with StatReloader
2025-04-23 10:49:04,948 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 57, in <lambda>
    path('metrics/', lambda request: HttpResponse(
                                     ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:49:04,954 INFO Request: GET /metrics/ | User: root
2025-04-23 10:49:21,311 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:49:22,698 INFO Watching for file changes with StatReloader
2025-04-23 10:50:22,151 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:50:24,012 INFO Watching for file changes with StatReloader
2025-04-23 10:50:29,328 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:50:30,818 INFO Watching for file changes with StatReloader
2025-04-23 10:50:32,158 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 60, in <lambda>
    path('metrics/', lambda request: HttpResponse(
                                     ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:50:32,163 INFO Request: GET /metrics/ | User: root
2025-04-23 10:50:34,210 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 60, in <lambda>
    path('metrics/', lambda request: HttpResponse(
                                     ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:50:34,215 INFO Request: GET /metrics/ | User: root
2025-04-23 10:51:58,120 INFO Watching for file changes with StatReloader
2025-04-23 10:52:07,471 INFO Request: GET / | User: root
2025-04-23 10:52:07,472 WARNING Not Found: /
2025-04-23 10:52:13,452 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 30, in metrics_view
    return HttpResponse(metrics, content_type=CONTENT_TYPE_LATEST)
           ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 32, in metrics_view
    return HttpResponse(str(e), status=500)
           ^^^^^^^^^^^^
NameError: name 'HttpResponse' is not defined
2025-04-23 10:52:13,472 INFO Request: GET /metrics/ | User: root
2025-04-23 10:52:52,107 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:52:53,772 INFO Watching for file changes with StatReloader
2025-04-23 10:52:58,040 INFO Request: GET /metrics/ | User: root
2025-04-23 10:53:42,569 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:53:44,702 INFO Watching for file changes with StatReloader
2025-04-23 10:53:46,933 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 59, in <lambda>
    prometheus_client.generate_latest(),
    ^^^^^^^^^^^^^^^^^
NameError: name 'prometheus_client' is not defined
2025-04-23 10:53:46,943 INFO Request: GET /metrics/ | User: root
2025-04-23 10:54:10,908 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:54:12,638 INFO Watching for file changes with StatReloader
2025-04-23 10:54:13,898 ERROR Internal Server Error: /metrics/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\marketplace_api\urls.py", line 61, in <lambda>
    content_type=CONTENT_TYPE_LATEST
                 ^^^^^^^^^^^^^^^^^^^
NameError: name 'CONTENT_TYPE_LATEST' is not defined
2025-04-23 10:54:13,907 INFO Request: GET /metrics/ | User: root
2025-04-23 10:54:36,802 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-23 10:54:38,564 INFO Watching for file changes with StatReloader
2025-04-23 10:54:39,877 INFO Request: GET /metrics/ | User: root
2025-04-23 10:54:51,574 INFO Request: GET /metrics | User: 
2025-04-23 10:54:51,589 INFO Request: GET /metrics/ | User: 
2025-04-23 10:54:58,331 INFO Request: GET /profile/ | User: root
2025-04-23 10:55:04,422 INFO Request: GET /metrics/ | User: root
2025-04-23 15:20:51,065 INFO Watching for file changes with StatReloader
2025-04-23 15:20:58,314 INFO Request: GET / | User: root
2025-04-23 15:20:58,314 WARNING Not Found: /
2025-04-23 15:21:04,805 INFO Request: GET /metrics/ | User: root
2025-04-24 12:03:21,814 INFO Watching for file changes with StatReloader
2025-04-24 12:03:37,837 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-24 12:03:39,210 INFO Watching for file changes with StatReloader
2025-04-24 12:03:45,375 INFO D:\python\marketplace_api\marketplace_api\urls.py changed, reloading.
2025-04-24 12:03:47,162 INFO Watching for file changes with StatReloader
2025-04-24 12:03:49,062 INFO Request: GET / | User: root
2025-04-24 12:03:49,062 WARNING Not Found: /
2025-04-24 12:03:53,035 INFO Request: GET /metrics/ | User: root
2025-04-24 12:04:02,144 INFO Request: GET /admin/ | User: root
2025-04-24 12:04:06,056 INFO Request: GET /metrics/ | User: root
2025-04-24 12:28:33,832 INFO Watching for file changes with StatReloader
2025-04-24 12:28:35,285 INFO Request: GET /profile/ | User: root
2025-04-24 16:14:21,694 INFO Watching for file changes with StatReloader
2025-04-24 16:14:26,118 INFO Request: POST /api/token/ | User: 
2025-04-24 16:14:42,497 INFO Request: GET /notifications/ | User: root
2025-04-24 16:14:44,787 INFO Request: GET /notifications// | User: 
2025-04-24 16:14:44,787 WARNING Not Found: /notifications//
2025-04-24 16:14:46,298 INFO Request: GET /notifications/1/ | User: root
2025-04-24 16:14:46,299 WARNING Not Found: /notifications/1/
2025-04-24 16:14:47,788 INFO Request: GET /notifications/ | User: root
2025-04-24 16:18:39,125 INFO D:\python\marketplace_api\usercontrol_api\admin.py changed, reloading.
2025-04-24 16:18:40,233 INFO Watching for file changes with StatReloader
2025-04-24 16:20:09,588 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 16:20:10,529 INFO Watching for file changes with StatReloader
2025-04-24 16:21:30,349 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:21:31,273 INFO Watching for file changes with StatReloader
2025-04-24 16:24:24,613 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:24:25,978 INFO Watching for file changes with StatReloader
2025-04-24 16:26:50,439 INFO Watching for file changes with StatReloader
2025-04-24 16:26:54,281 INFO Request: POST /notifications/ | User: root
2025-04-24 16:27:11,206 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:27:12,073 INFO Watching for file changes with StatReloader
2025-04-24 16:27:15,365 INFO Request: POST /notifications/ | User: root
2025-04-24 16:27:53,814 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:27:54,611 INFO Watching for file changes with StatReloader
2025-04-24 16:28:11,107 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:28:12,079 INFO Watching for file changes with StatReloader
2025-04-24 16:28:16,101 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:28:16,958 INFO Watching for file changes with StatReloader
2025-04-24 16:28:18,395 INFO Request: POST /notifications/ | User: root
2025-04-24 16:28:33,455 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:28:34,330 INFO Watching for file changes with StatReloader
2025-04-24 16:28:36,005 INFO Request: POST /notifications/ | User: root
2025-04-24 16:29:56,561 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:29:57,523 INFO Watching for file changes with StatReloader
2025-04-24 16:29:58,826 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:00,146 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:01,078 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:24,514 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:30:25,444 INFO Watching for file changes with StatReloader
2025-04-24 16:30:27,105 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:41,928 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:30:42,796 INFO Watching for file changes with StatReloader
2025-04-24 16:30:44,544 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 113, in perform_create
    notification = _create_notification( title='purchase', message='Ура ура')
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: _create_notification() missing 1 required positional argument: 'user'
2025-04-24 16:30:44,547 INFO Request: POST /notifications/ | User: root
2025-04-24 16:30:53,394 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:30:54,330 INFO Watching for file changes with StatReloader
2025-04-24 16:34:48,831 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:34:49,702 INFO Watching for file changes with StatReloader
2025-04-24 16:35:13,978 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:35:15,029 INFO Watching for file changes with StatReloader
2025-04-24 16:36:12,564 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:36:13,453 INFO Watching for file changes with StatReloader
2025-04-24 16:36:14,408 INFO Request: POST /notifications/ | User: root
2025-04-24 16:36:37,225 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:36:38,136 INFO Watching for file changes with StatReloader
2025-04-24 16:36:39,725 INFO Request: POST /notifications/ | User: root
2025-04-24 16:36:49,503 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:36:50,294 INFO Watching for file changes with StatReloader
2025-04-24 16:36:52,093 INFO Request: POST /notifications/ | User: root
2025-04-24 16:36:56,497 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:36:57,361 INFO Watching for file changes with StatReloader
2025-04-24 16:36:58,898 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.StringDataRightTruncation: ОШИБКА:  значение не умещается в тип character varying(8)


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 114, in perform_create
    serializer.save(user=user, title='purchaekjh')
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\serializers.py", line 51, in create
    return Notification.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.DataError: ОШИБКА:  значение не умещается в тип character varying(8)

2025-04-24 16:36:58,906 INFO Request: POST /notifications/ | User: root
2025-04-24 16:37:21,180 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:37:22,156 INFO Watching for file changes with StatReloader
2025-04-24 16:37:23,872 INFO Request: GET /notifications/ | User: root
2025-04-24 16:37:31,078 INFO Request: GET /notifications/8/ | User: root
2025-04-24 16:37:36,413 INFO Request: GET /notifications/ | User: root
2025-04-24 16:37:54,527 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:37:55,530 INFO Watching for file changes with StatReloader
2025-04-24 16:37:57,000 INFO Request: GET /notifications/ | User: root
2025-04-24 16:37:58,487 INFO Request: GET /notifications/ | User: root
2025-04-24 16:38:02,707 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:38:03,535 INFO Watching for file changes with StatReloader
2025-04-24 16:38:04,960 INFO Request: GET /notifications/ | User: root
2025-04-24 16:38:06,263 INFO Request: GET /notifications/ | User: root
2025-04-24 16:38:13,724 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:38:14,648 INFO Watching for file changes with StatReloader
2025-04-24 16:38:15,419 INFO Request: GET /notifications/ | User: root
2025-04-24 16:38:16,535 INFO Request: GET /notifications/ | User: root
2025-04-24 16:42:53,591 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:42:54,574 INFO Watching for file changes with StatReloader
2025-04-24 16:42:56,754 INFO Request: POST /notifications/ | User: root
2025-04-24 16:43:26,951 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:43:27,948 INFO Watching for file changes with StatReloader
2025-04-24 16:45:49,408 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-24 16:45:50,429 INFO Watching for file changes with StatReloader
2025-04-24 16:50:54,350 INFO Watching for file changes with StatReloader
2025-04-24 16:50:56,908 INFO Request: GET /admin/ | User: root
2025-04-24 16:51:02,851 INFO Request: GET /admin/usercontrol_api/user/add/ | User: root
2025-04-24 16:51:02,974 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:51:46,456 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-24 16:51:46,639 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:51:49,575 INFO Request: POST /admin/usercontrol_api/user/ | User: root
2025-04-24 16:51:52,297 INFO Request: POST /admin/usercontrol_api/user/ | User: root
2025-04-24 16:51:52,353 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-24 16:51:52,511 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:51:59,971 INFO Request: POST /register/ | User: 
2025-04-24 16:52:13,538 INFO Request: POST /api/token/ | User: 
2025-04-24 16:52:37,289 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:52:38,295 INFO Watching for file changes with StatReloader
2025-04-24 16:52:39,706 INFO Request: GET /notifications/ | User: testseller
2025-04-24 16:52:46,323 INFO Request: GET /profile/ | User: testseller
2025-04-24 16:53:30,583 INFO Request: PUT /seller/register/ | User: testseller
2025-04-24 16:54:07,268 INFO Request: POST /create-payment/ | User: testseller
2025-04-24 16:54:11,463 INFO Request: PUT /seller/register/ | User: testseller
2025-04-24 16:54:41,701 INFO Request: GET /notifications/ | User: testseller
2025-04-24 16:55:33,832 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-24 16:55:35,038 INFO Watching for file changes with StatReloader
2025-04-24 16:55:37,472 INFO Request: GET /notifications/ | User: testseller
2025-04-24 16:55:39,776 INFO Request: GET /notifications/13/ | User: testseller
2025-04-24 16:56:00,173 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:56:01,051 INFO Watching for file changes with StatReloader
2025-04-24 16:56:02,287 INFO Request: GET /notifications/13/ | User: testseller
2025-04-24 16:57:19,149 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:57:20,190 INFO Watching for file changes with StatReloader
2025-04-24 16:58:02,068 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 16:58:02,894 INFO Watching for file changes with StatReloader
2025-04-24 16:58:04,810 INFO Request: DELETE /notifications/13/ | User: testseller
2025-04-24 16:58:34,630 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:58:34,805 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:58:39,873 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:58:39,931 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 16:58:42,462 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 16:58:42,466 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:58:50,794 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:58:55,915 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 16:58:55,921 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 16:59:16,090 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 16:59:16,957 INFO Watching for file changes with StatReloader
2025-04-24 17:00:10,680 INFO Watching for file changes with StatReloader
2025-04-24 17:00:12,791 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:00:14,519 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:00:14,522 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:01:18,159 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:01:19,888 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:01:19,892 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:01:21,001 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:01:52,912 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 17:01:53,863 INFO Watching for file changes with StatReloader
2025-04-24 17:03:41,736 INFO Watching for file changes with StatReloader
2025-04-24 17:03:45,071 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:45,236 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 17:03:48,061 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:03:48,066 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:50,065 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:52,365 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:03:52,369 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:53,140 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:56,129 ERROR Internal Server Error: /admin/usercontrol_api/notification/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1875, in _changeform_view
    self.log_addition(request, new_object, change_message)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 952, in log_addition
    return LogEntry.objects.log_actions(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user_id=request.user.pk,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        change_message=message,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\models.py", line 87, in log_actions
    object_repr=str(obj)[:200],
                ~~~^^^^^
  File "D:\python\marketplace_api\usercontrol_api\models.py", line 74, in __str__
    return self.title | self.user.username
           ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for |: 'str' and 'str'
2025-04-24 17:03:56,131 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:03:59,034 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:05:41,813 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 17:05:42,818 INFO Watching for file changes with StatReloader
2025-04-24 17:05:49,428 INFO Watching for file changes with StatReloader
2025-04-24 17:05:53,747 INFO Request: GET /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:05:55,396 INFO Request: POST /admin/usercontrol_api/notification/add/ | User: root
2025-04-24 17:05:55,573 INFO Request: GET /admin/usercontrol_api/notification/ | User: root
2025-04-24 17:05:55,637 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-24 17:06:08,128 INFO Request: GET /notifications/21/ | User: testseller
2025-04-24 17:06:08,128 WARNING Not Found: /notifications/21/
2025-04-24 17:06:16,038 INFO Request: GET /notifications/21/ | User: testseller
2025-04-24 17:06:16,038 WARNING Not Found: /notifications/21/
2025-04-24 17:06:20,891 INFO Request: POST /api/token/ | User: 
2025-04-24 17:06:26,446 INFO Request: GET /notifications/21/ | User: root
2025-04-24 17:06:33,316 INFO Request: DELETE /notifications/21/ | User: root
2025-04-24 17:06:35,286 INFO Request: GET /notifications/21/ | User: root
2025-04-24 17:06:35,286 WARNING Not Found: /notifications/21/
2025-04-24 17:06:37,107 INFO Request: GET /notifications/ | User: root
2025-04-24 21:07:26,813 INFO Watching for file changes with StatReloader
2025-04-24 21:07:34,770 INFO Request: POST /api/token/ | User: 
2025-04-24 21:07:43,327 INFO Request: GET /notifications/ | User: root
2025-04-24 21:07:45,012 INFO Request: GET /notifications/ | User: root
2025-04-24 21:08:01,228 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 204, in _get_response
    self.check_response(response, callback)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 332, in check_response
    raise ValueError(
    ...<2 lines>...
    )
ValueError: The view usercontrol_api.views.admin_notification didn't return an HttpResponse object. It returned None instead.
2025-04-24 21:08:01,232 INFO Request: GET /admin_notification/ | User: 
2025-04-24 21:08:11,116 WARNING Forbidden (CSRF token missing.): /admin_notification/
2025-04-24 21:08:11,117 INFO Request: POST /admin_notification/ | User: 
2025-04-24 21:08:32,605 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:08:34,299 INFO Watching for file changes with StatReloader
2025-04-24 21:08:35,728 WARNING Forbidden (CSRF token missing.): /admin_notification/
2025-04-24 21:08:35,728 INFO Request: POST /admin_notification/ | User: 
2025-04-24 21:10:20,930 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:10:22,704 INFO Watching for file changes with StatReloader
2025-04-24 21:10:33,994 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-04-24 21:10:35,349 INFO Watching for file changes with StatReloader
2025-04-24 21:11:13,592 INFO Watching for file changes with StatReloader
2025-04-24 21:11:16,585 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:11:16,588 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:11:30,171 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:11:31,651 INFO Watching for file changes with StatReloader
2025-04-24 21:11:33,520 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:11:33,524 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:12:15,212 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:12:16,844 INFO Watching for file changes with StatReloader
2025-04-24 21:12:25,080 INFO Request: POST /api/token/ | User: 
2025-04-24 21:12:37,027 INFO Request: POST /coupons/ | User: root
2025-04-24 21:13:03,081 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:13:03,084 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:13:05,352 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:13:05,359 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:14:51,219 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:14:52,843 INFO Watching for file changes with StatReloader
2025-04-24 21:15:05,832 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'AdminNotificationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
2025-04-24 21:15:05,844 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:15:22,122 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:15:23,512 INFO Watching for file changes with StatReloader
2025-04-24 21:15:36,236 INFO D:\python\marketplace_api\usercontrol_api\urls.py changed, reloading.
2025-04-24 21:15:37,774 INFO Watching for file changes with StatReloader
2025-04-24 21:15:40,263 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 127, in post
    notification = Notification.objects.create(user__id__in=users_ids, title=title, message=message)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Notification() got unexpected keyword arguments: 'user__id__in'
2025-04-24 21:15:40,276 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:16:39,605 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:16:41,393 INFO Watching for file changes with StatReloader
2025-04-24 21:17:08,089 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:17:10,057 INFO Watching for file changes with StatReloader
2025-04-24 21:17:16,185 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:17:17,713 INFO Watching for file changes with StatReloader
2025-04-24 21:17:30,514 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:17:32,404 INFO Watching for file changes with StatReloader
2025-04-24 21:17:51,504 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:17:53,090 INFO Watching for file changes with StatReloader
2025-04-24 21:17:59,844 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:18:01,386 INFO Watching for file changes with StatReloader
2025-04-24 21:18:03,788 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (22, null, Привет, f, 2025-04-24, 4).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 129, in post
    notification = Notification.objects.create(
        user_id=user_id,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (22, null, Привет, f, 2025-04-24, 4).

2025-04-24 21:18:03,799 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:18:45,022 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:18:46,738 INFO Watching for file changes with StatReloader
2025-04-24 21:18:48,502 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 128, in post
    for user in users_ids:
                ^^^^^^^^^
NameError: name 'users_ids' is not defined
2025-04-24 21:18:48,508 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:19:15,745 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 128, in post
    for user in users_ids:
                ^^^^^^^^^
NameError: name 'users_ids' is not defined
2025-04-24 21:19:15,751 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:19:24,732 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:19:26,648 INFO Watching for file changes with StatReloader
2025-04-24 21:19:29,697 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\__init__.py", line 2123, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'User'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 129, in post
    notification = Notification.objects.create(
        user_id=user,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1835, in execute_sql
    for sql, params in self.as_sql():
                       ~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1760, in as_sql
    self.prepare_value(field, self.pre_save_val(field, obj))
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1699, in prepare_value
    return field.get_db_prep_save(value, connection=self.connection)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\related.py", line 1142, in get_db_prep_save
    return self.target_field.get_db_prep_save(value, connection=connection)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\__init__.py", line 1008, in get_db_prep_save
    return self.get_db_prep_value(value, connection=connection, prepared=False)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\__init__.py", line 2815, in get_db_prep_value
    value = self.get_prep_value(value)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\fields\__init__.py", line 2125, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <User: username: testseller | pk 4>.
2025-04-24 21:19:29,720 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:19:55,170 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:19:56,786 INFO Watching for file changes with StatReloader
2025-04-24 21:19:59,520 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:20:53,552 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 21:21:16,796 INFO Watching for file changes with StatReloader
2025-04-24 21:21:22,979 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (25, null, Привет, f, 2025-04-24, 4).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 129, in post
    notification = Notification.objects.create(
        user=user,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (25, null, Привет, f, 2025-04-24, 4).

2025-04-24 21:21:22,987 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:21:52,589 INFO Watching for file changes with StatReloader
2025-04-24 21:21:56,765 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:22:22,494 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:22:24,491 INFO Watching for file changes with StatReloader
2025-04-24 21:22:26,024 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:22:42,584 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-24 21:22:55,333 INFO Watching for file changes with StatReloader
2025-04-24 21:22:58,272 ERROR Internal Server Error: /admin_notification/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (30, null, Привет, f, 2025-04-24, 4).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 129, in post
    notification = Notification.objects.create(
        user=user,
        title=title,
        message=message
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "title" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (30, null, Привет, f, 2025-04-24, 4).

2025-04-24 21:22:58,285 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:24:25,011 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:24:27,196 INFO Watching for file changes with StatReloader
2025-04-24 21:24:29,440 INFO Request: POST /admin_notification/ | User: root
2025-04-24 21:27:01,809 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-24 21:27:03,793 INFO Watching for file changes with StatReloader
2025-04-24 21:28:37,255 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:28:39,476 INFO Watching for file changes with StatReloader
2025-04-24 21:29:21,410 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:29:23,176 INFO Watching for file changes with StatReloader
2025-04-24 21:30:38,619 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:30:40,264 INFO Watching for file changes with StatReloader
2025-04-24 21:33:53,497 INFO Watching for file changes with StatReloader
2025-04-24 21:34:00,329 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:34:01,894 INFO Watching for file changes with StatReloader
2025-04-24 21:35:05,042 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-04-24 21:35:06,599 INFO Watching for file changes with StatReloader
2025-04-24 21:36:02,766 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-04-24 21:36:04,375 INFO Watching for file changes with StatReloader
2025-04-24 21:36:26,706 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:36:28,461 INFO Watching for file changes with StatReloader
2025-04-24 21:37:20,363 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:37:21,876 INFO Watching for file changes with StatReloader
2025-04-24 21:41:28,883 INFO Watching for file changes with StatReloader
2025-04-24 21:42:46,650 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:42:47,883 INFO Watching for file changes with StatReloader
2025-04-24 21:46:14,587 INFO Watching for file changes with StatReloader
2025-04-24 21:47:02,990 INFO D:\python\marketplace_api\payment_system_api\tasks.py changed, reloading.
2025-04-24 21:47:04,551 INFO Watching for file changes with StatReloader
2025-04-24 21:48:39,451 INFO D:\python\marketplace_api\marketplace_api\celery.py changed, reloading.
2025-04-24 21:48:40,379 INFO Watching for file changes with StatReloader
2025-04-24 21:55:35,879 INFO Watching for file changes with StatReloader
2025-04-24 21:57:24,682 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-24 21:57:25,663 INFO Watching for file changes with StatReloader
2025-04-24 21:57:34,630 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-24 21:57:35,478 INFO Watching for file changes with StatReloader
2025-04-24 21:57:54,161 INFO Request: POST /api/toke/ | User: 
2025-04-24 21:57:54,161 WARNING Not Found: /api/toke/
2025-04-24 21:57:59,538 INFO Request: POST /api/token/ | User: 
2025-04-24 21:58:11,800 INFO Request: GET /seller/ | User: 
2025-04-24 21:58:11,800 WARNING Not Found: /seller/
2025-04-24 21:58:17,941 INFO Request: GET /store/ | User: root
2025-04-24 21:58:22,510 INFO Request: GET /store/1/ | User: root
2025-04-24 21:58:23,588 INFO Request: GET /store/ | User: root
2025-04-24 21:59:03,142 ERROR Internal Server Error: /store/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\seller_store_api\views.py", line 96, in perform_create
    _create_notification(user=user, title='seller', message=f'Регистрация магазина {serializer.name}')
                                                                                    ^^^^^^^^^^^^^^^
AttributeError: 'StoreSerializer' object has no attribute 'name'
2025-04-24 21:59:03,145 INFO Request: POST /store/ | User: root
2025-04-24 21:59:19,908 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-24 21:59:20,890 INFO Watching for file changes with StatReloader
2025-04-24 21:59:22,909 INFO Request: POST /store/ | User: root
2025-04-24 21:59:22,909 WARNING Bad Request: /store/
2025-04-24 21:59:40,487 INFO Request: POST /store/ | User: root
2025-04-25 18:06:31,693 INFO Watching for file changes with StatReloader
2025-04-25 18:06:35,702 INFO Request: GET / | User: 
2025-04-25 18:06:35,704 WARNING Not Found: /
2025-04-25 18:06:42,363 INFO Request: GET /admin/ | User: 
2025-04-25 18:06:42,648 INFO Request: GET /admin/login/ | User: 
2025-04-25 18:06:49,088 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-04-25 18:06:51,209 INFO Watching for file changes with StatReloader
2025-04-25 18:07:06,200 INFO D:\python\marketplace_api\marketplace_api\settings.py changed, reloading.
2025-04-25 18:07:08,287 INFO Watching for file changes with StatReloader
2025-04-25 19:15:22,599 INFO Watching for file changes with StatReloader
2025-04-25 19:17:00,861 INFO Watching for file changes with StatReloader
2025-04-25 19:22:33,129 INFO Watching for file changes with StatReloader
2025-04-25 19:54:45,514 INFO Watching for file changes with StatReloader
2025-04-25 20:02:45,862 INFO Watching for file changes with StatReloader
2025-04-25 20:02:55,650 INFO Watching for file changes with StatReloader
2025-04-25 20:03:02,237 INFO Request: GET / | User: 
2025-04-25 20:03:02,238 WARNING Not Found: /
2025-04-25 20:03:06,449 INFO Request: POST /api/token/ | User: 
2025-04-25 20:03:20,313 INFO Request: GET /products/ | User: root
2025-04-25 20:03:28,352 INFO Request: GET /products/5/ | User: root
2025-04-25 20:03:36,700 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:04:49,417 INFO Watching for file changes with StatReloader
2025-04-25 20:05:14,535 ERROR Internal Server Error: /products/6/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 138, in post
    wishlist_item.save()
    ~~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
TypeError: wishlist_notification() missing 1 required positional argument: 'created'
2025-04-25 20:05:14,539 INFO Request: POST /products/6/add/ | User: root
2025-04-25 20:05:26,193 INFO Request: GET /products/6/ | User: root
2025-04-25 20:05:30,993 INFO Request: GET /products/6/add/ | User: root
2025-04-25 20:05:30,994 WARNING Method Not Allowed: /products/6/add/
2025-04-25 20:05:34,438 ERROR Internal Server Error: /products/6/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 138, in post
    wishlist_item.save()
    ~~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
TypeError: wishlist_notification() missing 1 required positional argument: 'created'
2025-04-25 20:05:34,440 INFO Request: POST /products/6/add/ | User: root
2025-04-25 20:05:44,238 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:05:45,116 INFO Watching for file changes with StatReloader
2025-04-25 20:05:46,211 INFO Request: POST /products/6/add/ | User: root
2025-04-25 20:12:24,995 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:12:25,966 INFO Watching for file changes with StatReloader
2025-04-25 20:12:34,369 INFO Request: POST /products/5/ | User: root
2025-04-25 20:12:34,369 WARNING Method Not Allowed: /products/5/
2025-04-25 20:12:38,122 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:13:01,462 INFO Request: POST /api/token/ | User: 
2025-04-25 20:13:18,549 INFO Request: GET /wishlist/ | User: root
2025-04-25 20:14:20,057 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:14:21,048 INFO Watching for file changes with StatReloader
2025-04-25 20:15:07,041 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:15:27,679 INFO Request: GET /wishlist/ | User: root
2025-04-25 20:21:03,656 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-25 20:21:04,841 INFO Watching for file changes with StatReloader
2025-04-25 20:21:12,319 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-25 20:21:13,091 INFO Watching for file changes with StatReloader
2025-04-25 20:21:26,713 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:21:27,596 INFO Watching for file changes with StatReloader
2025-04-25 20:21:32,704 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:21:33,679 INFO Watching for file changes with StatReloader
2025-04-25 20:21:39,674 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:21:40,596 INFO Watching for file changes with StatReloader
2025-04-25 20:22:00,607 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:22:01,441 INFO Watching for file changes with StatReloader
2025-04-25 20:22:02,777 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:22:13,037 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:22:40,163 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:22:41,142 INFO Watching for file changes with StatReloader
2025-04-25 20:22:44,848 ERROR Internal Server Error: /products/5/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 138, in post
    wishlist_item.save(update_fields=['quantity'])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 38, in wishlist_notification
NameError: name 'quantity' is not defined
2025-04-25 20:22:44,852 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:22:52,259 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:22:53,117 INFO Watching for file changes with StatReloader
2025-04-25 20:22:55,187 ERROR Internal Server Error: /products/5/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\seller_store_api\views.py", line 138, in post
    wishlist_item.save(update_fields=['quantity'])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 38, in wishlist_notification
    quantity = getattr(quantity, 'quantity', 1)
                       ^^^^^^^^
NameError: name 'quantity' is not defined
2025-04-25 20:22:55,192 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:23:04,787 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:23:05,616 INFO Watching for file changes with StatReloader
2025-04-25 20:23:57,013 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-25 20:23:57,977 INFO Watching for file changes with StatReloader
2025-04-25 20:24:01,834 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:24:02,608 INFO Watching for file changes with StatReloader
2025-04-25 20:24:08,481 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:24:09,514 INFO Watching for file changes with StatReloader
2025-04-25 20:24:14,693 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-25 20:24:15,576 INFO Watching for file changes with StatReloader
2025-04-25 20:24:19,835 INFO Request: POST /products/5/add/ | User: root
2025-04-25 20:24:37,552 INFO Request: POST /products/5/add/ | User: root
2025-04-25 21:34:08,214 INFO Watching for file changes with StatReloader
2025-04-25 21:34:12,974 INFO Request: POST /api/token/ | User: 
2025-04-25 21:34:26,283 INFO Request: GET /seller/ | User: 
2025-04-25 21:34:26,284 WARNING Not Found: /seller/
2025-04-25 21:34:34,572 INFO Request: GET /store/ | User: root
2025-04-25 21:34:52,207 INFO Request: GET /seller/register/ | User: root
2025-04-25 21:35:57,136 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-25 21:35:58,091 INFO Watching for file changes with StatReloader
2025-04-25 21:36:06,984 INFO Request: GET /store/ | User: root
2025-04-25 21:36:37,944 INFO Request: POST /store/ | User: root
2025-04-25 21:37:16,903 INFO Request: POST /store/ | User: root
2025-04-25 21:38:08,241 INFO Watching for file changes with StatReloader
2025-04-25 21:38:11,153 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-25 21:38:11,961 INFO Watching for file changes with StatReloader
2025-04-25 21:38:17,292 INFO Request: POST /store/ | User: root
2025-04-26 09:51:30,784 INFO Watching for file changes with StatReloader
2025-04-26 09:51:48,621 INFO Watching for file changes with StatReloader
2025-04-26 09:52:35,333 INFO Watching for file changes with StatReloader
2025-04-26 09:52:42,609 INFO Request: POST /api/token/ | User: 
2025-04-26 09:53:12,801 INFO Request: POST /products/5/add/ | User: root
2025-04-26 09:53:31,655 INFO Request: GET /wishlist/ | User: root
2025-04-26 09:54:24,138 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 09:54:26,019 INFO Watching for file changes with StatReloader
2025-04-26 09:54:29,912 INFO Request: GET /wishlist/ | User: root
2025-04-26 09:54:56,035 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 09:56:57,630 INFO D:\python\marketplace_api\payment_system_api\models.py changed, reloading.
2025-04-26 09:56:59,167 INFO Watching for file changes with StatReloader
2025-04-26 09:57:00,831 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 09:57:00,831 WARNING Bad Request: /wishlist/buy/
2025-04-26 09:57:11,443 INFO Request: GET /admin/ | User: 
2025-04-26 09:57:11,689 INFO Request: GET /admin/login/ | User: 
2025-04-26 09:57:13,535 INFO Request: POST /admin/login/ | User: root
2025-04-26 09:57:13,743 INFO Request: GET /admin/ | User: root
2025-04-26 09:57:19,669 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 09:57:19,830 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 09:57:21,558 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 09:57:21,693 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 09:57:27,188 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 09:57:27,306 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 09:57:27,476 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 09:57:30,075 ERROR Internal Server Error: /wishlist/buy/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\payment_system_api\views.py", line 156, in payment_products
    raise ValidationError(_(f"Недостаточно товара {product.name} на складе."))
                                                   ^^^^^^^^^^^^
AttributeError: 'ProductVariant' object has no attribute 'name'
2025-04-26 09:57:30,082 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 09:58:29,463 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 09:58:31,347 INFO Watching for file changes with StatReloader
2025-04-26 09:58:35,086 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 09:58:35,086 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:05:33,126 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:05:35,243 INFO Watching for file changes with StatReloader
2025-04-26 10:05:53,923 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:05:56,553 INFO Watching for file changes with StatReloader
2025-04-26 10:06:01,115 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:06:03,633 INFO Watching for file changes with StatReloader
2025-04-26 10:12:46,740 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:12:47,909 INFO Watching for file changes with StatReloader
2025-04-26 10:17:10,785 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:17:12,029 INFO Watching for file changes with StatReloader
2025-04-26 10:17:15,665 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:17:16,605 INFO Watching for file changes with StatReloader
2025-04-26 10:17:34,779 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:17:35,701 INFO Watching for file changes with StatReloader
2025-04-26 10:17:48,016 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:17:49,472 INFO Watching for file changes with StatReloader
2025-04-26 10:18:12,239 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:18:13,233 INFO Watching for file changes with StatReloader
2025-04-26 10:18:23,895 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:18:25,020 INFO Watching for file changes with StatReloader
2025-04-26 10:18:32,441 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:18:33,304 INFO Watching for file changes with StatReloader
2025-04-26 10:18:41,691 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:18:42,537 INFO Watching for file changes with StatReloader
2025-04-26 10:19:09,814 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:19:10,643 INFO Watching for file changes with StatReloader
2025-04-26 10:19:33,850 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:27:36,011 INFO Request: POST /api/token/ | User: 
2025-04-26 10:27:58,708 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:28:04,932 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:28:04,933 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:28:13,373 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:28:13,572 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:28:16,724 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:28:16,894 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 10:28:16,957 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:28:23,800 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:29:05,915 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:29:07,807 INFO Watching for file changes with StatReloader
2025-04-26 10:29:38,151 INFO Request: GET /admin/product_control_api/productvariant/ | User: root
2025-04-26 10:29:38,328 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:29:47,043 INFO Request: GET /admin/product_control_api/productvariant/5/change/ | User: root
2025-04-26 10:29:47,210 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:29:51,431 INFO Request: POST /admin/product_control_api/productvariant/5/change/ | User: root
2025-04-26 10:29:51,520 INFO Request: GET /admin/product_control_api/productvariant/ | User: root
2025-04-26 10:29:51,682 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:30:00,994 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:30:08,320 INFO Request: GET /products/5/ | User: root
2025-04-26 10:30:17,862 INFO Request: GET /products/ | User: root
2025-04-26 10:30:36,740 INFO Request: GET /wishlist/ | User: root
2025-04-26 10:31:36,640 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:31:37,616 INFO Watching for file changes with StatReloader
2025-04-26 10:31:40,226 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:34:19,686 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:34:21,516 INFO Watching for file changes with StatReloader
2025-04-26 10:34:47,526 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:34:50,543 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:34:50,543 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:36:54,372 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:36:55,647 INFO Watching for file changes with StatReloader
2025-04-26 10:36:57,123 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:36:57,123 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:37:07,164 INFO D:\python\marketplace_api\payment_system_api\views.py changed, reloading.
2025-04-26 10:37:08,097 INFO Watching for file changes with StatReloader
2025-04-26 10:37:09,850 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:37:09,850 WARNING Bad Request: /wishlist/buy/
2025-04-26 10:37:26,173 INFO Request: GET /wishlist/ | User: root
2025-04-26 10:37:29,589 INFO Request: GET /wishlist/10/ | User: root
2025-04-26 10:37:50,044 INFO Request: PATCH /wishlist/10/ | User: root
2025-04-26 10:37:50,044 WARNING Bad Request: /wishlist/10/
2025-04-26 10:37:54,049 INFO Request: PATCH /wishlist/10/ | User: root
2025-04-26 10:38:04,159 INFO Request: PATCH /wishlist/10/ | User: root
2025-04-26 10:38:15,796 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 10:39:47,447 INFO Request: GET /notifications/ | User: root
2025-04-26 10:39:51,328 INFO Request: GET /notifications/41/ | User: root
2025-04-26 10:39:57,405 INFO Request: DELETE /notifications/41/ | User: root
2025-04-26 10:40:24,311 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 10:40:25,408 INFO Watching for file changes with StatReloader
2025-04-26 10:42:52,646 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-26 10:42:53,721 INFO Watching for file changes with StatReloader
2025-04-26 10:43:20,203 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-26 10:43:21,143 INFO Watching for file changes with StatReloader
2025-04-26 10:43:46,526 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:43:47,735 INFO Watching for file changes with StatReloader
2025-04-26 10:45:31,147 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:45:32,220 INFO Watching for file changes with StatReloader
2025-04-26 10:46:58,561 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:46:59,550 INFO Watching for file changes with StatReloader
2025-04-26 10:47:42,245 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:47:43,199 INFO Watching for file changes with StatReloader
2025-04-26 10:47:55,676 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:47:56,563 INFO Watching for file changes with StatReloader
2025-04-26 10:48:17,916 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:48:18,990 INFO Watching for file changes with StatReloader
2025-04-26 10:48:22,165 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:48:23,152 INFO Watching for file changes with StatReloader
2025-04-26 10:48:41,005 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:48:42,152 INFO Watching for file changes with StatReloader
2025-04-26 10:48:52,715 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:48:53,708 INFO Watching for file changes with StatReloader
2025-04-26 10:49:05,846 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 10:49:05,911 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:49:11,271 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:49:11,436 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 10:49:14,693 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 64, in seller_activate_notification
    user=instance.user,
         ^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'user'
2025-04-26 10:49:14,703 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:52:53,227 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:52:54,338 INFO Watching for file changes with StatReloader
2025-04-26 10:52:55,477 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:52:56,822 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (47, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 65, in seller_activate_notification
    Notification.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user=user,
        ^^^^^^^^^^
        title=Notification.TitleChoice.CELLER,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        message=f"Вы стали продавцом, вам доступны новые привилегии."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (47, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).

2025-04-26 10:52:56,829 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:54:14,633 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:55:27,344 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-26 10:55:28,405 INFO Watching for file changes with StatReloader
2025-04-26 10:55:29,861 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:55:30,972 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (49, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 65, in seller_activate_notification
    Notification.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user=user,
        ^^^^^^^^^^
        title=Notification.TitleChoice.CELLER,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        message=f"Вы стали продавцом, вам доступны новые привилегии."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (49, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).

2025-04-26 10:55:30,980 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:55:33,199 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:55:56,749 INFO D:\python\marketplace_api\seller_store_api\views.py changed, reloading.
2025-04-26 10:55:57,617 INFO Watching for file changes with StatReloader
2025-04-26 10:56:09,429 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (50, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 65, in seller_activate_notification
    Notification.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        user=user,
        ^^^^^^^^^^
        title=Notification.TitleChoice.CELLER,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        message=f"Вы стали продавцом, вам доступны новые привилегии."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: ОШИБКА:  значение NULL в столбце "user_id" отношения "usercontrol_api_notification" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (50, celler, Вы стали продавцом, вам доступны но..., f, 2025-04-26, null).

2025-04-26 10:56:09,447 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:56:31,748 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:56:32,601 INFO Watching for file changes with StatReloader
2025-04-26 10:56:33,760 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:56:34,770 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
TypeError: seller_activate_notification() missing 1 required positional argument: 'created'
2025-04-26 10:56:34,774 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:56:43,272 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:56:44,202 INFO Watching for file changes with StatReloader
2025-04-26 10:56:45,058 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:56:45,971 ERROR Internal Server Error: /admin/usercontrol_api/user/1/change/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1962, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\seller_store_api\signals.py", line 64, in seller_activate_notification
    user=instance.user,
         ^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'user'
2025-04-26 10:56:45,976 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:57:38,651 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:57:39,606 INFO Watching for file changes with StatReloader
2025-04-26 10:57:40,659 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:57:55,314 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:58:05,774 INFO Request: POST /products/5/add/ | User: root
2025-04-26 10:58:57,336 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 10:58:58,313 INFO Watching for file changes with StatReloader
2025-04-26 10:59:04,243 INFO Request: GET /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:59:05,407 INFO Request: POST /admin/usercontrol_api/user/1/change/ | User: root
2025-04-26 10:59:05,474 INFO Request: GET /admin/usercontrol_api/user/ | User: root
2025-04-26 10:59:05,549 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-26 11:02:06,045 INFO D:\python\marketplace_api\payment_system_api\apps.py changed, reloading.
2025-04-26 11:02:06,987 INFO Watching for file changes with StatReloader
2025-04-26 11:10:29,000 INFO D:\python\marketplace_api\seller_store_api\signals.py changed, reloading.
2025-04-26 11:10:30,175 INFO Watching for file changes with StatReloader
2025-04-26 11:10:40,325 INFO Request: POST /products/5/buy/ | User: root
2025-04-26 11:10:49,311 INFO D:\python\marketplace_api\payment_system_api\signals.py changed, reloading.
2025-04-26 11:10:50,496 INFO Watching for file changes with StatReloader
2025-04-26 11:12:00,364 INFO D:\python\marketplace_api\payment_system_api\signals.py changed, reloading.
2025-04-26 11:12:01,355 INFO Watching for file changes with StatReloader
2025-04-26 11:12:03,065 INFO Request: POST /products/5/buy/ | User: root
2025-04-26 11:12:30,741 INFO D:\python\marketplace_api\payment_system_api\signals.py changed, reloading.
2025-04-26 11:12:31,622 INFO Watching for file changes with StatReloader
2025-04-26 11:13:16,595 INFO Request: GET /wishlist/ | User: root
2025-04-26 11:13:40,955 INFO Request: POST /wishlist/buy/ | User: root
2025-04-26 11:38:16,372 INFO Watching for file changes with StatReloader
2025-04-26 11:38:20,717 INFO Request: POST /api/token/ | User: 
2025-04-26 11:38:32,490 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 105, in get_queryset
    return Respoonse({
           ^^^^^^^^^
NameError: name 'Respoonse' is not defined. Did you mean: 'Response'?
2025-04-26 11:38:32,493 INFO Request: GET /notifications/ | User: root
2025-04-26 11:38:38,972 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:38:39,859 INFO Watching for file changes with StatReloader
2025-04-26 11:38:41,728 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\template\response.py", line 127, in __iter__
    raise ContentNotRenderedError(
        "The response content must be rendered before it can be iterated over."
    )
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
2025-04-26 11:38:41,731 INFO Request: GET /notifications/ | User: root
2025-04-26 11:38:48,201 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\template\response.py", line 127, in __iter__
    raise ContentNotRenderedError(
        "The response content must be rendered before it can be iterated over."
    )
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
2025-04-26 11:38:48,202 INFO Request: GET /notifications/ | User: root
2025-04-26 11:39:09,210 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:39:10,094 INFO Watching for file changes with StatReloader
2025-04-26 11:39:11,740 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\template\response.py", line 127, in __iter__
    raise ContentNotRenderedError(
        "The response content must be rendered before it can be iterated over."
    )
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
2025-04-26 11:39:11,743 INFO Request: GET /notifications/ | User: root
2025-04-26 11:39:42,859 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:39:43,798 INFO Watching for file changes with StatReloader
2025-04-26 11:39:46,126 ERROR Internal Server Error: /notifications/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\template\response.py", line 127, in __iter__
    raise ContentNotRenderedError(
        "The response content must be rendered before it can be iterated over."
    )
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
2025-04-26 11:39:46,129 INFO Request: GET /notifications/ | User: root
2025-04-26 11:39:53,254 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:39:54,214 INFO Watching for file changes with StatReloader
2025-04-26 11:40:44,639 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:40:45,808 INFO Watching for file changes with StatReloader
2025-04-26 11:41:21,391 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:41:22,203 INFO Watching for file changes with StatReloader
2025-04-26 11:41:49,094 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:41:49,944 INFO Watching for file changes with StatReloader
2025-04-26 11:41:50,884 INFO Request: GET /notifications/ | User: root
2025-04-26 11:41:56,720 INFO Request: GET /notifications/54/ | User: root
2025-04-26 11:41:58,741 INFO Request: GET /notifications/ | User: root
2025-04-26 11:42:16,065 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:42:17,108 INFO Watching for file changes with StatReloader
2025-04-26 11:42:18,383 INFO Request: GET /notifications/ | User: root
2025-04-26 11:42:37,929 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-26 11:42:38,877 INFO Watching for file changes with StatReloader
2025-04-26 11:42:41,189 INFO Request: GET /notifications/ | User: root
2025-04-26 11:43:04,016 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:43:04,964 INFO Watching for file changes with StatReloader
2025-04-26 11:43:06,124 INFO Request: GET /notifications/ | User: root
2025-04-26 11:43:13,012 INFO Request: GET /notifications/58/ | User: root
2025-04-26 11:43:18,676 INFO Request: GET /notifications/ | User: root
2025-04-26 11:43:28,070 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:43:29,088 INFO Watching for file changes with StatReloader
2025-04-26 11:43:30,900 INFO Request: GET /notifications/ | User: root
2025-04-26 11:43:37,420 INFO Request: GET /notifications/52/ | User: root
2025-04-26 11:43:38,830 INFO Request: GET /notifications/ | User: root
2025-04-26 11:44:17,377 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:44:18,531 INFO Watching for file changes with StatReloader
2025-04-26 11:44:22,024 INFO Request: GET /profile | User: 
2025-04-26 11:44:22,085 INFO Request: GET /profile/ | User: root
2025-04-26 11:44:23,216 INFO Request: GET /profile/ | User: root
2025-04-26 11:44:33,160 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-26 11:44:34,346 INFO Watching for file changes with StatReloader
2025-04-26 11:44:35,503 INFO Request: GET /profile/ | User: root
2025-04-26 20:26:42,407 INFO Watching for file changes with StatReloader
2025-04-27 12:06:58,182 INFO Watching for file changes with StatReloader
2025-04-27 12:07:56,907 INFO Watching for file changes with StatReloader
2025-04-27 12:08:33,028 INFO Request: POST /api/token/ | User: 
2025-04-27 12:08:45,528 INFO Request: GET /coupons/ | User: root
2025-04-27 12:08:53,710 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 39, in set_coupon
    self.code = random.randint(100000, 999999)
                ^^^^^^
NameError: name 'random' is not defined. Did you forget to import 'random'?
2025-04-27 12:08:53,717 INFO Request: POST /coupons/ | User: root
2025-04-27 12:09:15,114 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:09:15,977 INFO Watching for file changes with StatReloader
2025-04-27 12:09:20,941 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 40, in set_coupon
    self.code = random.randint(100000, 999999)
    ^^^^
NameError: name 'self' is not defined
2025-04-27 12:09:20,946 INFO Request: POST /coupons/ | User: root
2025-04-27 12:09:43,129 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:09:44,035 INFO Watching for file changes with StatReloader
2025-04-27 12:09:45,555 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 40, in set_coupon
    self.code = random.randint(100000, 999999)
    ^^^^
NameError: name 'self' is not defined
2025-04-27 12:09:45,562 INFO Request: POST /coupons/ | User: root
2025-04-27 12:10:25,616 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:10:26,607 INFO Watching for file changes with StatReloader
2025-04-27 12:10:29,958 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 44, in set_coupon
    instance.end_date = self.created_at + datetime.timedelta(weeks=4)
                        ^^^^
NameError: name 'self' is not defined
2025-04-27 12:10:29,962 INFO Request: POST /coupons/ | User: root
2025-04-27 12:10:43,478 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:10:44,340 INFO Watching for file changes with StatReloader
2025-04-27 12:10:46,308 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 44, in set_coupon
    instance.end_date = instance.created_at + datetime.timedelta(weeks=4)
                                              ^^^^^^^^
NameError: name 'datetime' is not defined. Did you forget to import 'datetime'?
2025-04-27 12:10:46,315 INFO Request: POST /coupons/ | User: root
2025-04-27 12:11:05,475 INFO Watching for file changes with StatReloader
2025-04-27 12:11:08,316 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 45, in set_coupon
    instance.end_date = instance.created_at + datetime.timedelta(weeks=4)
                        ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for +: 'NoneType' and 'datetime.timedelta'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 167, in perform_create
    serializer.save(user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 1008, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Coupon.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Coupon.objects.create()`. You may need to make the field read-only, or override the CouponSerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 45, in set_coupon
    instance.end_date = instance.created_at + datetime.timedelta(weeks=4)
                        ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for +: 'NoneType' and 'datetime.timedelta'

2025-04-27 12:11:08,322 INFO Request: POST /coupons/ | User: root
2025-04-27 12:11:41,991 INFO Request: GET /admin/ | User: 
2025-04-27 12:11:42,171 INFO Request: GET /admin/login/ | User: 
2025-04-27 12:11:45,004 INFO Request: POST /admin/login/ | User: root
2025-04-27 12:11:45,114 INFO Request: GET /admin/ | User: root
2025-04-27 12:11:49,014 INFO Request: GET /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:11:49,147 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:11:52,622 ERROR Internal Server Error: /admin/usercontrol_api/coupon/add/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1959, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1818, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1869, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1292, in save_model
    obj.save()
    ~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\db\models\base.py", line 978, in save_base
    pre_save.send(
    ~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "D:\python\marketplace_api\usercontrol_api\signals.py", line 45, in set_coupon
    instance.end_date = instance.created_at + datetime.timedelta(weeks=4)
                        ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for +: 'NoneType' and 'datetime.timedelta'
2025-04-27 12:11:52,628 INFO Request: POST /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:09,914 INFO D:\python\marketplace_api\usercontrol_api\signals.py changed, reloading.
2025-04-27 12:12:10,993 INFO Watching for file changes with StatReloader
2025-04-27 12:12:13,619 INFO Request: GET /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:14,724 INFO Request: POST /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:14,974 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:12:15,047 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:12:34,504 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:12:34,581 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:12:35,699 INFO Request: GET /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:35,877 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:12:37,855 INFO Request: POST /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:12:37,911 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:12:38,077 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:13:07,413 INFO D:\python\marketplace_api\usercontrol_api\models.py changed, reloading.
2025-04-27 12:13:09,310 INFO Watching for file changes with StatReloader
2025-04-27 12:13:11,926 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:13:11,990 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:13:12,833 INFO Request: GET /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:13:12,999 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:13:15,123 INFO Request: POST /admin/usercontrol_api/coupon/add/ | User: root
2025-04-27 12:13:15,190 INFO Request: GET /admin/usercontrol_api/coupon/ | User: root
2025-04-27 12:13:15,358 INFO Request: GET /admin/jsi18n/ | User: root
2025-04-27 12:14:23,723 INFO Request: POST /coupons/ | User: root
2025-04-27 12:15:50,065 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:15:51,371 INFO Watching for file changes with StatReloader
2025-04-27 12:16:40,675 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:16:41,553 INFO Watching for file changes with StatReloader
2025-04-27 12:17:26,551 INFO D:\python\marketplace_api\usercontrol_api\views.py changed, reloading.
2025-04-27 12:17:27,420 INFO Watching for file changes with StatReloader
2025-04-27 12:17:29,097 INFO Request: POST /coupons/ | User: root
2025-04-27 12:17:29,097 WARNING Bad Request: /coupons/
2025-04-27 12:17:40,983 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:17:41,890 INFO Watching for file changes with StatReloader
2025-04-27 12:17:42,999 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 166, in perform_create
    serializer.save()
    ~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\serializers.py", line 66, in create
    user = validated_data.pop(['user'])
KeyError: ['user']
2025-04-27 12:17:43,002 INFO Request: POST /coupons/ | User: root
2025-04-27 12:17:50,022 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:17:50,875 INFO Watching for file changes with StatReloader
2025-04-27 12:17:52,784 ERROR Internal Server Error: /coupons/
Traceback (most recent call last):
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\views.py", line 166, in perform_create
    serializer.save()
    ~~~~~~~~~~~~~~~^^
  File "D:\python\marketplace_api\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\python\marketplace_api\usercontrol_api\serializers.py", line 66, in create
    user = validated_data.pop['user']
           ~~~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: 'builtin_function_or_method' object is not subscriptable
2025-04-27 12:17:52,787 INFO Request: POST /coupons/ | User: root
2025-04-27 12:18:48,053 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:18:48,970 INFO Watching for file changes with StatReloader
2025-04-27 12:19:19,836 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:19:20,712 INFO Watching for file changes with StatReloader
2025-04-27 12:19:23,604 INFO D:\python\marketplace_api\usercontrol_api\serializers.py changed, reloading.
2025-04-27 12:19:24,424 INFO Watching for file changes with StatReloader
2025-04-27 12:19:26,329 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:30,659 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:31,785 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:32,742 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:33,624 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:34,435 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:35,284 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:36,227 INFO Request: POST /coupons/ | User: root
2025-04-27 12:19:37,019 INFO Request: POST /coupons/ | User: root
